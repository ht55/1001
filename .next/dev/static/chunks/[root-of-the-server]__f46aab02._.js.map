{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["turbopack:///[turbopack]/browser/dev/hmr-client/hmr-client.ts"],"sourcesContent":["/// <reference path=\"../../../shared/runtime-types.d.ts\" />\n/// <reference path=\"../../runtime/base/dev-globals.d.ts\" />\n/// <reference path=\"../../runtime/base/dev-protocol.d.ts\" />\n/// <reference path=\"../../runtime/base/dev-extensions.ts\" />\n\ntype SendMessage = (msg: any) => void\nexport type WebSocketMessage =\n  | {\n      type: 'turbopack-connected'\n    }\n  | {\n      type: 'turbopack-message'\n      data: Record<string, any>\n    }\n\nexport type ClientOptions = {\n  addMessageListener: (cb: (msg: WebSocketMessage) => void) => void\n  sendMessage: SendMessage\n  onUpdateError: (err: unknown) => void\n}\n\nexport function connect({\n  addMessageListener,\n  sendMessage,\n  onUpdateError = console.error,\n}: ClientOptions) {\n  addMessageListener((msg) => {\n    switch (msg.type) {\n      case 'turbopack-connected':\n        handleSocketConnected(sendMessage)\n        break\n      default:\n        try {\n          if (Array.isArray(msg.data)) {\n            for (let i = 0; i < msg.data.length; i++) {\n              handleSocketMessage(msg.data[i] as ServerMessage)\n            }\n          } else {\n            handleSocketMessage(msg.data as ServerMessage)\n          }\n          applyAggregatedUpdates()\n        } catch (e: unknown) {\n          console.warn(\n            '[Fast Refresh] performing full reload\\n\\n' +\n              \"Fast Refresh will perform a full reload when you edit a file that's imported by modules outside of the React rendering tree.\\n\" +\n              'You might have a file which exports a React component but also exports a value that is imported by a non-React component file.\\n' +\n              'Consider migrating the non-React component export to a separate file and importing it into both files.\\n\\n' +\n              'It is also possible the parent component of the component you edited is a class component, which disables Fast Refresh.\\n' +\n              'Fast Refresh requires at least one parent function component in your React tree.'\n          )\n          onUpdateError(e)\n          location.reload()\n        }\n        break\n    }\n  })\n\n  const queued = globalThis.TURBOPACK_CHUNK_UPDATE_LISTENERS\n  if (queued != null && !Array.isArray(queued)) {\n    throw new Error('A separate HMR handler was already registered')\n  }\n  globalThis.TURBOPACK_CHUNK_UPDATE_LISTENERS = {\n    push: ([chunkPath, callback]: [ChunkListPath, UpdateCallback]) => {\n      subscribeToChunkUpdate(chunkPath, sendMessage, callback)\n    },\n  }\n\n  if (Array.isArray(queued)) {\n    for (const [chunkPath, callback] of queued) {\n      subscribeToChunkUpdate(chunkPath, sendMessage, callback)\n    }\n  }\n}\n\ntype UpdateCallbackSet = {\n  callbacks: Set<UpdateCallback>\n  unsubscribe: () => void\n}\n\nconst updateCallbackSets: Map<ResourceKey, UpdateCallbackSet> = new Map()\n\nfunction sendJSON(sendMessage: SendMessage, message: ClientMessage) {\n  sendMessage(JSON.stringify(message))\n}\n\ntype ResourceKey = string\n\nfunction resourceKey(resource: ResourceIdentifier): ResourceKey {\n  return JSON.stringify({\n    path: resource.path,\n    headers: resource.headers || null,\n  })\n}\n\nfunction subscribeToUpdates(\n  sendMessage: SendMessage,\n  resource: ResourceIdentifier\n): () => void {\n  sendJSON(sendMessage, {\n    type: 'turbopack-subscribe',\n    ...resource,\n  })\n\n  return () => {\n    sendJSON(sendMessage, {\n      type: 'turbopack-unsubscribe',\n      ...resource,\n    })\n  }\n}\n\nfunction handleSocketConnected(sendMessage: SendMessage) {\n  for (const key of updateCallbackSets.keys()) {\n    subscribeToUpdates(sendMessage, JSON.parse(key))\n  }\n}\n\n// we aggregate all pending updates until the issues are resolved\nconst chunkListsWithPendingUpdates: Map<ResourceKey, PartialServerMessage> =\n  new Map()\n\nfunction aggregateUpdates(msg: PartialServerMessage) {\n  const key = resourceKey(msg.resource)\n  let aggregated = chunkListsWithPendingUpdates.get(key)\n\n  if (aggregated) {\n    aggregated.instruction = mergeChunkListUpdates(\n      aggregated.instruction,\n      msg.instruction\n    )\n  } else {\n    chunkListsWithPendingUpdates.set(key, msg)\n  }\n}\n\nfunction applyAggregatedUpdates() {\n  if (chunkListsWithPendingUpdates.size === 0) return\n  hooks.beforeRefresh()\n  for (const msg of chunkListsWithPendingUpdates.values()) {\n    triggerUpdate(msg)\n  }\n  chunkListsWithPendingUpdates.clear()\n  finalizeUpdate()\n}\n\nfunction mergeChunkListUpdates(\n  updateA: ChunkListUpdate,\n  updateB: ChunkListUpdate\n): ChunkListUpdate {\n  let chunks\n  if (updateA.chunks != null) {\n    if (updateB.chunks == null) {\n      chunks = updateA.chunks\n    } else {\n      chunks = mergeChunkListChunks(updateA.chunks, updateB.chunks)\n    }\n  } else if (updateB.chunks != null) {\n    chunks = updateB.chunks\n  }\n\n  let merged\n  if (updateA.merged != null) {\n    if (updateB.merged == null) {\n      merged = updateA.merged\n    } else {\n      // Since `merged` is an array of updates, we need to merge them all into\n      // one, consistent update.\n      // Since there can only be `EcmascriptMergeUpdates` in the array, there is\n      // no need to key on the `type` field.\n      let update = updateA.merged[0]\n      for (let i = 1; i < updateA.merged.length; i++) {\n        update = mergeChunkListEcmascriptMergedUpdates(\n          update,\n          updateA.merged[i]\n        )\n      }\n\n      for (let i = 0; i < updateB.merged.length; i++) {\n        update = mergeChunkListEcmascriptMergedUpdates(\n          update,\n          updateB.merged[i]\n        )\n      }\n\n      merged = [update]\n    }\n  } else if (updateB.merged != null) {\n    merged = updateB.merged\n  }\n\n  return {\n    type: 'ChunkListUpdate',\n    chunks,\n    merged,\n  }\n}\n\nfunction mergeChunkListChunks(\n  chunksA: Record<ChunkPath, ChunkUpdate>,\n  chunksB: Record<ChunkPath, ChunkUpdate>\n): Record<ChunkPath, ChunkUpdate> {\n  const chunks: Record<ChunkPath, ChunkUpdate> = {}\n\n  for (const [chunkPath, chunkUpdateA] of Object.entries(chunksA) as Array<\n    [ChunkPath, ChunkUpdate]\n  >) {\n    const chunkUpdateB = chunksB[chunkPath]\n    if (chunkUpdateB != null) {\n      const mergedUpdate = mergeChunkUpdates(chunkUpdateA, chunkUpdateB)\n      if (mergedUpdate != null) {\n        chunks[chunkPath] = mergedUpdate\n      }\n    } else {\n      chunks[chunkPath] = chunkUpdateA\n    }\n  }\n\n  for (const [chunkPath, chunkUpdateB] of Object.entries(chunksB) as Array<\n    [ChunkPath, ChunkUpdate]\n  >) {\n    if (chunks[chunkPath] == null) {\n      chunks[chunkPath] = chunkUpdateB\n    }\n  }\n\n  return chunks\n}\n\nfunction mergeChunkUpdates(\n  updateA: ChunkUpdate,\n  updateB: ChunkUpdate\n): ChunkUpdate | undefined {\n  if (\n    (updateA.type === 'added' && updateB.type === 'deleted') ||\n    (updateA.type === 'deleted' && updateB.type === 'added')\n  ) {\n    return undefined\n  }\n\n  if (updateA.type === 'partial') {\n    invariant(updateA.instruction, 'Partial updates are unsupported')\n  }\n\n  if (updateB.type === 'partial') {\n    invariant(updateB.instruction, 'Partial updates are unsupported')\n  }\n\n  return undefined\n}\n\nfunction mergeChunkListEcmascriptMergedUpdates(\n  mergedA: EcmascriptMergedUpdate,\n  mergedB: EcmascriptMergedUpdate\n): EcmascriptMergedUpdate {\n  const entries = mergeEcmascriptChunkEntries(mergedA.entries, mergedB.entries)\n  const chunks = mergeEcmascriptChunksUpdates(mergedA.chunks, mergedB.chunks)\n\n  return {\n    type: 'EcmascriptMergedUpdate',\n    entries,\n    chunks,\n  }\n}\n\nfunction mergeEcmascriptChunkEntries(\n  entriesA: Record<ModuleId, EcmascriptModuleEntry> | undefined,\n  entriesB: Record<ModuleId, EcmascriptModuleEntry> | undefined\n): Record<ModuleId, EcmascriptModuleEntry> {\n  return { ...entriesA, ...entriesB }\n}\n\nfunction mergeEcmascriptChunksUpdates(\n  chunksA: Record<ChunkPath, EcmascriptMergedChunkUpdate> | undefined,\n  chunksB: Record<ChunkPath, EcmascriptMergedChunkUpdate> | undefined\n): Record<ChunkPath, EcmascriptMergedChunkUpdate> | undefined {\n  if (chunksA == null) {\n    return chunksB\n  }\n\n  if (chunksB == null) {\n    return chunksA\n  }\n\n  const chunks: Record<ChunkPath, EcmascriptMergedChunkUpdate> = {}\n\n  for (const [chunkPath, chunkUpdateA] of Object.entries(chunksA) as Array<\n    [ChunkPath, EcmascriptMergedChunkUpdate]\n  >) {\n    const chunkUpdateB = chunksB[chunkPath]\n    if (chunkUpdateB != null) {\n      const mergedUpdate = mergeEcmascriptChunkUpdates(\n        chunkUpdateA,\n        chunkUpdateB\n      )\n      if (mergedUpdate != null) {\n        chunks[chunkPath] = mergedUpdate\n      }\n    } else {\n      chunks[chunkPath] = chunkUpdateA\n    }\n  }\n\n  for (const [chunkPath, chunkUpdateB] of Object.entries(chunksB) as Array<\n    [ChunkPath, EcmascriptMergedChunkUpdate]\n  >) {\n    if (chunks[chunkPath] == null) {\n      chunks[chunkPath] = chunkUpdateB\n    }\n  }\n\n  if (Object.keys(chunks).length === 0) {\n    return undefined\n  }\n\n  return chunks\n}\n\nfunction mergeEcmascriptChunkUpdates(\n  updateA: EcmascriptMergedChunkUpdate,\n  updateB: EcmascriptMergedChunkUpdate\n): EcmascriptMergedChunkUpdate | undefined {\n  if (updateA.type === 'added' && updateB.type === 'deleted') {\n    // These two completely cancel each other out.\n    return undefined\n  }\n\n  if (updateA.type === 'deleted' && updateB.type === 'added') {\n    const added = []\n    const deleted = []\n    const deletedModules = new Set(updateA.modules ?? [])\n    const addedModules = new Set(updateB.modules ?? [])\n\n    for (const moduleId of addedModules) {\n      if (!deletedModules.has(moduleId)) {\n        added.push(moduleId)\n      }\n    }\n\n    for (const moduleId of deletedModules) {\n      if (!addedModules.has(moduleId)) {\n        deleted.push(moduleId)\n      }\n    }\n\n    if (added.length === 0 && deleted.length === 0) {\n      return undefined\n    }\n\n    return {\n      type: 'partial',\n      added,\n      deleted,\n    }\n  }\n\n  if (updateA.type === 'partial' && updateB.type === 'partial') {\n    const added = new Set([...(updateA.added ?? []), ...(updateB.added ?? [])])\n    const deleted = new Set([\n      ...(updateA.deleted ?? []),\n      ...(updateB.deleted ?? []),\n    ])\n\n    if (updateB.added != null) {\n      for (const moduleId of updateB.added) {\n        deleted.delete(moduleId)\n      }\n    }\n\n    if (updateB.deleted != null) {\n      for (const moduleId of updateB.deleted) {\n        added.delete(moduleId)\n      }\n    }\n\n    return {\n      type: 'partial',\n      added: [...added],\n      deleted: [...deleted],\n    }\n  }\n\n  if (updateA.type === 'added' && updateB.type === 'partial') {\n    const modules = new Set([\n      ...(updateA.modules ?? []),\n      ...(updateB.added ?? []),\n    ])\n\n    for (const moduleId of updateB.deleted ?? []) {\n      modules.delete(moduleId)\n    }\n\n    return {\n      type: 'added',\n      modules: [...modules],\n    }\n  }\n\n  if (updateA.type === 'partial' && updateB.type === 'deleted') {\n    // We could eagerly return `updateB` here, but this would potentially be\n    // incorrect if `updateA` has added modules.\n\n    const modules = new Set(updateB.modules ?? [])\n\n    if (updateA.added != null) {\n      for (const moduleId of updateA.added) {\n        modules.delete(moduleId)\n      }\n    }\n\n    return {\n      type: 'deleted',\n      modules: [...modules],\n    }\n  }\n\n  // Any other update combination is invalid.\n\n  return undefined\n}\n\nfunction invariant(_: never, message: string): never {\n  throw new Error(`Invariant: ${message}`)\n}\n\nconst CRITICAL = ['bug', 'error', 'fatal']\n\nfunction compareByList(list: any[], a: any, b: any) {\n  const aI = list.indexOf(a) + 1 || list.length\n  const bI = list.indexOf(b) + 1 || list.length\n  return aI - bI\n}\n\nconst chunksWithIssues: Map<ResourceKey, Issue[]> = new Map()\n\nfunction emitIssues() {\n  const issues = []\n  const deduplicationSet = new Set()\n\n  for (const [_, chunkIssues] of chunksWithIssues) {\n    for (const chunkIssue of chunkIssues) {\n      if (deduplicationSet.has(chunkIssue.formatted)) continue\n\n      issues.push(chunkIssue)\n      deduplicationSet.add(chunkIssue.formatted)\n    }\n  }\n\n  sortIssues(issues)\n\n  hooks.issues(issues)\n}\n\nfunction handleIssues(msg: ServerMessage): boolean {\n  const key = resourceKey(msg.resource)\n  let hasCriticalIssues = false\n\n  for (const issue of msg.issues) {\n    if (CRITICAL.includes(issue.severity)) {\n      hasCriticalIssues = true\n    }\n  }\n\n  if (msg.issues.length > 0) {\n    chunksWithIssues.set(key, msg.issues)\n  } else if (chunksWithIssues.has(key)) {\n    chunksWithIssues.delete(key)\n  }\n\n  emitIssues()\n\n  return hasCriticalIssues\n}\n\nconst SEVERITY_ORDER = ['bug', 'fatal', 'error', 'warning', 'info', 'log']\nconst CATEGORY_ORDER = [\n  'parse',\n  'resolve',\n  'code generation',\n  'rendering',\n  'typescript',\n  'other',\n]\n\nfunction sortIssues(issues: Issue[]) {\n  issues.sort((a, b) => {\n    const first = compareByList(SEVERITY_ORDER, a.severity, b.severity)\n    if (first !== 0) return first\n    return compareByList(CATEGORY_ORDER, a.category, b.category)\n  })\n}\n\nconst hooks = {\n  beforeRefresh: () => {},\n  refresh: () => {},\n  buildOk: () => {},\n  issues: (_issues: Issue[]) => {},\n}\n\nexport function setHooks(newHooks: typeof hooks) {\n  Object.assign(hooks, newHooks)\n}\n\nfunction handleSocketMessage(msg: ServerMessage) {\n  sortIssues(msg.issues)\n\n  handleIssues(msg)\n\n  switch (msg.type) {\n    case 'issues':\n      // issues are already handled\n      break\n    case 'partial':\n      // aggregate updates\n      aggregateUpdates(msg)\n      break\n    default:\n      // run single update\n      const runHooks = chunkListsWithPendingUpdates.size === 0\n      if (runHooks) hooks.beforeRefresh()\n      triggerUpdate(msg)\n      if (runHooks) finalizeUpdate()\n      break\n  }\n}\n\nfunction finalizeUpdate() {\n  hooks.refresh()\n  hooks.buildOk()\n\n  // This is used by the Next.js integration test suite to notify it when HMR\n  // updates have been completed.\n  // TODO: Only run this in test environments (gate by `process.env.__NEXT_TEST_MODE`)\n  if (globalThis.__NEXT_HMR_CB) {\n    globalThis.__NEXT_HMR_CB()\n    globalThis.__NEXT_HMR_CB = null\n  }\n}\n\nfunction subscribeToChunkUpdate(\n  chunkListPath: ChunkListPath,\n  sendMessage: SendMessage,\n  callback: UpdateCallback\n): () => void {\n  return subscribeToUpdate(\n    {\n      path: chunkListPath,\n    },\n    sendMessage,\n    callback\n  )\n}\n\nexport function subscribeToUpdate(\n  resource: ResourceIdentifier,\n  sendMessage: SendMessage,\n  callback: UpdateCallback\n) {\n  const key = resourceKey(resource)\n  let callbackSet: UpdateCallbackSet\n  const existingCallbackSet = updateCallbackSets.get(key)\n  if (!existingCallbackSet) {\n    callbackSet = {\n      callbacks: new Set([callback]),\n      unsubscribe: subscribeToUpdates(sendMessage, resource),\n    }\n    updateCallbackSets.set(key, callbackSet)\n  } else {\n    existingCallbackSet.callbacks.add(callback)\n    callbackSet = existingCallbackSet\n  }\n\n  return () => {\n    callbackSet.callbacks.delete(callback)\n\n    if (callbackSet.callbacks.size === 0) {\n      callbackSet.unsubscribe()\n      updateCallbackSets.delete(key)\n    }\n  }\n}\n\nfunction triggerUpdate(msg: ServerMessage) {\n  const key = resourceKey(msg.resource)\n  const callbackSet = updateCallbackSets.get(key)\n  if (!callbackSet) {\n    return\n  }\n\n  for (const callback of callbackSet.callbacks) {\n    callback(msg)\n  }\n\n  if (msg.type === 'notFound') {\n    // This indicates that the resource which we subscribed to either does not exist or\n    // has been deleted. In either case, we should clear all update callbacks, so if a\n    // new subscription is created for the same resource, it will send a new \"subscribe\"\n    // message to the server.\n    // No need to send an \"unsubscribe\" message to the server, it will have already\n    // dropped the update stream before sending the \"notFound\" message.\n    updateCallbackSets.delete(key)\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 467, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/data/characters.ts"],"sourcesContent":["// src/data/characters.ts\n\nexport interface Character {\n  id: string\n  name: string\n  tags: string[]\n}\n\nexport const characters: Character[] = [\n  { id: \"holmes\", name: \"ホームズ\", tags: [\"論理\", \"観察\", \"緊張\", \"冷静沈着\", \"陰鬱\", \"天才的\", \"頭脳明晰\"] },\n  { id: \"little_prince\", name: \"星の王子さま\", tags: [\"純粋\", \"孤独\", \"超越\", \"友情\", \"本当に大切なものは目に見えない\"] },\n  { id: \"izanami\", name: \"イザナミ\", tags: [\"死\", \"神\", \"創生\", \"境界\", \"虚無\", \"冥界\", \"呪い\", \"ネガティブに変化する愛情\"] },\n  { id: \"yeti\", name: \"イエティ\", tags: [\"孤立\", \"未開\", \"未知\", \"異形\", \"自然\", \"雪\", \"人に危害を加えない\"] },\n  { id: \"square_flatland\", name: \"フラットランドの正方形\", tags: [\"次元\", \"歪み\", \"不合理\", \"数学的\", \"現状批判\"] },\n  { id: \"alice\", name: \"アリス\", tags: [\"好奇心\", \"混乱\", \"冒険\", \"異形\", \"異世界\", \"非論理的\"] },\n  { id: \"ludwig_ii\", name: \"ルートヴィヒ2世\", tags: [\"理想\", \"崩壊\", \"空想\", \"デカダン\", \"耽美\", \"芸術愛好家\"] },\n  { id: \"kingyo_ataishi\", name: \"金魚のあたい\", tags: [\"好奇心\", \"不安定\", \"空想\", \"愛らしい\", \"擬人化\"] },\n  { id: \"snufkin\", name: \"スナフキン\", tags: [\"自由\", \"放浪\", \"空白\", \"疎外感\", \"孤独の楽しさ\", \"自然と共存\", \"飄々とした\"] },\n  { id: \"honda_tadakatsu\", name: \"本田忠勝\", tags: [\"忠義\", \"戦\", \"武士道\", \"戦士\", \"最強の武将\", \"晩年の不遇\"] },\n  { id: \"tinkerbell\", name: \"ティンカーベル\", tags: [\"魔法\", \"消失\", \"小生意気\", \"いたずら\", \"頑固で短気\", \"愛らしい\"] },\n  { id: \"ragnar\", name: \"ラグナル\", tags: [\"策略\", \"崩壊\", \"権力\", \"残虐\", \"バイキング\", \"戦士\", \"統治\"] }, \n  { id: \"lupin\", name: \"ルパン三世\", tags: [\"狡猾\", \"遊戯\", \"女たらし\", \"頭脳明晰\", \"大胆不敵\", \"女性にモテる\"] },\n  { id: \"puss_in_boots\", name: \"長靴をはいた猫\", tags: [\"策略\", \"成功\", \"下剋上\", \"擬人化\", \"頭脳明晰\", \"忠誠\"] },\n  { id: \"marie_antoinette\", name: \"マリー・アントワネット\", tags: [\"権力\", \"崩壊\", \"美貌\", \"衰退\", \"没落\", \"運命に翻弄される\"] }\n]\nexport const charactersById: Record<string, Character> =\n  Object.fromEntries(\n    characters.map(c => [c.id, c])\n  )\n"],"names":[],"mappings":"AAAA,yBAAyB;;;;;;;AAQlB,MAAM,aAA0B;IACrC;QAAE,IAAI;QAAU,MAAM;QAAQ,MAAM;YAAC;YAAM;YAAM;YAAM;YAAQ;YAAM;YAAO;SAAO;IAAC;IACpF;QAAE,IAAI;QAAiB,MAAM;QAAU,MAAM;YAAC;YAAM;YAAM;YAAM;YAAM;SAAkB;IAAC;IACzF;QAAE,IAAI;QAAW,MAAM;QAAQ,MAAM;YAAC;YAAK;YAAK;YAAM;YAAM;YAAM;YAAM;YAAM;SAAe;IAAC;IAC9F;QAAE,IAAI;QAAQ,MAAM;QAAQ,MAAM;YAAC;YAAM;YAAM;YAAM;YAAM;YAAM;YAAK;SAAY;IAAC;IACnF;QAAE,IAAI;QAAmB,MAAM;QAAe,MAAM;YAAC;YAAM;YAAM;YAAO;YAAO;SAAO;IAAC;IACvF;QAAE,IAAI;QAAS,MAAM;QAAO,MAAM;YAAC;YAAO;YAAM;YAAM;YAAM;YAAO;SAAO;IAAC;IAC3E;QAAE,IAAI;QAAa,MAAM;QAAY,MAAM;YAAC;YAAM;YAAM;YAAM;YAAQ;YAAM;SAAQ;IAAC;IACrF;QAAE,IAAI;QAAkB,MAAM;QAAU,MAAM;YAAC;YAAO;YAAO;YAAM;YAAQ;SAAM;IAAC;IAClF;QAAE,IAAI;QAAW,MAAM;QAAS,MAAM;YAAC;YAAM;YAAM;YAAM;YAAO;YAAU;YAAS;SAAQ;IAAC;IAC5F;QAAE,IAAI;QAAmB,MAAM;QAAQ,MAAM;YAAC;YAAM;YAAK;YAAO;YAAM;YAAS;SAAQ;IAAC;IACxF;QAAE,IAAI;QAAc,MAAM;QAAW,MAAM;YAAC;YAAM;YAAM;YAAQ;YAAQ;YAAS;SAAO;IAAC;IACzF;QAAE,IAAI;QAAU,MAAM;QAAQ,MAAM;YAAC;YAAM;YAAM;YAAM;YAAM;YAAS;YAAM;SAAK;IAAC;IAClF;QAAE,IAAI;QAAS,MAAM;QAAS,MAAM;YAAC;YAAM;YAAM;YAAQ;YAAQ;YAAQ;SAAS;IAAC;IACnF;QAAE,IAAI;QAAiB,MAAM;QAAW,MAAM;YAAC;YAAM;YAAM;YAAO;YAAO;YAAQ;SAAK;IAAC;IACvF;QAAE,IAAI;QAAoB,MAAM;QAAe,MAAM;YAAC;YAAM;YAAM;YAAM;YAAM;YAAM;SAAW;IAAC;CACjG;AACM,MAAM,iBACX,OAAO,WAAW,CAChB,WAAW,GAAG,CAAC,CAAA,IAAK;QAAC,EAAE,EAAE;QAAE;KAAE"}},
    {"offset": {"line": 670, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/themes/beauty_and_cruelty.ts"],"sourcesContent":["import type { Theme } from \"@/types/theme\"\n\nexport const beauty_and_cruelty: Theme = {\n  id: \"beauty_and_cruelty\",\n  label: \"美と残酷\",\n  categoryID: \"\",      \n  keywords: [],            \n}\n"],"names":[],"mappings":";;;;AAEO,MAAM,qBAA4B;IACvC,IAAI;IACJ,OAAO;IACP,YAAY;IACZ,UAAU,EAAE;AACd"}},
    {"offset": {"line": 687, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/themes/between_life_and_death.ts"],"sourcesContent":["import type { Theme } from \"@/types/theme\"\n\nexport const between_life_and_death: Theme = {\n  id: \"between_life_and_death\",\n  label: \"生と死のあわい\",\n  categoryID: \"\",      \n  keywords: [],            \n}"],"names":[],"mappings":";;;;AAEO,MAAM,yBAAgC;IAC3C,IAAI;IACJ,OAAO;IACP,YAAY;IACZ,UAAU,EAAE;AACd"}},
    {"offset": {"line": 704, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/themes/collapse_of_reality.ts"],"sourcesContent":["import type { Theme } from \"@/types/theme\"\n\nexport const collapse_of_reality: Theme = {\n  id: \"collapse_of_reality\",\n  label: \"崩れる現実\",\n  categoryID: \"\",      \n  keywords: [],            \n}"],"names":[],"mappings":";;;;AAEO,MAAM,sBAA6B;IACxC,IAAI;IACJ,OAAO;IACP,YAAY;IACZ,UAAU,EAAE;AACd"}},
    {"offset": {"line": 721, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/themes/collective_madness.ts"],"sourcesContent":["import type { Theme } from \"@/types/theme\"\n\nexport const collective_madness: Theme = {\n  id: \"collective_madness\",\n  label: \"集団狂気\",\n  categoryID: \"\",      \n  keywords: [],            \n}"],"names":[],"mappings":";;;;AAEO,MAAM,qBAA4B;IACvC,IAAI;IACJ,OAAO;IACP,YAAY;IACZ,UAAU,EAAE;AACd"}},
    {"offset": {"line": 738, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/themes/distorted_justice.ts"],"sourcesContent":["import type { Theme } from \"@/types/theme\"\n\nexport const distorted_justice: Theme = {\n  id: \"distorted_justice\",\n  label: \"正義の歪み\",\n  categoryID: \"\",      \n  keywords: [],            \n}"],"names":[],"mappings":";;;;AAEO,MAAM,oBAA2B;IACtC,IAAI;IACJ,OAAO;IACP,YAAY;IACZ,UAAU,EAAE;AACd"}},
    {"offset": {"line": 755, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/themes/erosion_of_love.ts"],"sourcesContent":["import type { Theme } from \"@/types/theme\"\n\nexport const erosion_of_love: Theme = {\n  id: \"erosion_of_love\",\n  label: \"侵食する愛\",\n  categoryID: \"\",      \n  keywords: [],            \n}"],"names":[],"mappings":";;;;AAEO,MAAM,kBAAyB;IACpC,IAAI;IACJ,OAAO;IACP,YAAY;IACZ,UAAU,EAAE;AACd"}},
    {"offset": {"line": 772, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/themes/forbidden_knowledge.ts"],"sourcesContent":["import type { Theme } from \"@/types/theme\"\n\nexport const forbidden_knowledge: Theme = {\n  id: \"forbidden_knowledge\",\n  label: \"知識の禁忌\",\n  categoryID: \"\",      \n  keywords: [],            \n}"],"names":[],"mappings":";;;;AAEO,MAAM,sBAA6B;IACxC,IAAI;IACJ,OAAO;IACP,YAAY;IACZ,UAAU,EAAE;AACd"}},
    {"offset": {"line": 789, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/themes/genesis_and_apocalypse.ts"],"sourcesContent":["import type { Theme } from \"@/types/theme\"\n\nexport const genesis_and_apocalypse: Theme = {\n  id: \"genesis_and_apocalypse\",\n  label: \"創世と終焉\",\n  categoryID: \"\",      \n  keywords: [],            \n}"],"names":[],"mappings":";;;;AAEO,MAAM,yBAAgC;IAC3C,IAAI;IACJ,OAAO;IACP,YAAY;IACZ,UAAU,EAAE;AACd"}},
    {"offset": {"line": 806, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/themes/inevitable_end.ts"],"sourcesContent":["import type { Theme } from \"@/types/theme\"\n\nexport const inevitable_end: Theme = {\n  id: \"inevitable_end\",\n  label: \"避けられぬ終焉\",\n  categoryID: \"\",\n  keywords: [],\n}"],"names":[],"mappings":";;;;AAEO,MAAM,iBAAwB;IACnC,IAAI;IACJ,OAAO;IACP,YAAY;IACZ,UAAU,EAAE;AACd"}},
    {"offset": {"line": 823, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/themes/logic_of_the_night.ts"],"sourcesContent":["import type { Theme } from \"@/types/theme\"\n\nexport const logic_of_the_night: Theme = {\n  id: \"logic_of_the_night\",\n  label: \"夜の論理\",\n  categoryID: \"\",      \n  keywords: [],\n}"],"names":[],"mappings":";;;;AAEO,MAAM,qBAA4B;IACvC,IAAI;IACJ,OAAO;IACP,YAAY;IACZ,UAAU,EAAE;AACd"}},
    {"offset": {"line": 840, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/themes/loneliness_and_collapse.ts"],"sourcesContent":["import type { Theme } from \"@/types/theme\"\n\nexport const loneliness_and_collapse: Theme = {\n  id: \"loneliness_and_collapse\",\n  label: \"孤独と崩壊\",\n  categoryID: \"\",      \n  keywords: [],\n}\n\n"],"names":[],"mappings":";;;;AAEO,MAAM,0BAAiC;IAC5C,IAAI;IACJ,OAAO;IACP,YAAY;IACZ,UAAU,EAAE;AACd"}},
    {"offset": {"line": 857, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/themes/salvation_without_god.ts"],"sourcesContent":["import type { Theme } from \"@/types/theme\"\n\nexport const salvation_without_god: Theme = {\n  id: \"salvation_without_god\",\n  label: \"神なき救済\",\n  categoryID: \"\",      \n  keywords: [],\n}"],"names":[],"mappings":";;;;AAEO,MAAM,wBAA+B;IAC1C,IAAI;IACJ,OAAO;IACP,YAAY;IACZ,UAAU,EAAE;AACd"}},
    {"offset": {"line": 874, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/themes/self_denial_and_fragmentation.ts"],"sourcesContent":["import type { Theme } from \"@/types/theme\"\n\nexport const self_denial_and_fragmentation: Theme = {\n  id: \"self_denial_and_fragmentation\",\n  label: \"自己否定と分裂\",\n  categoryID: \"\",      \n  keywords: [],            \n}"],"names":[],"mappings":";;;;AAEO,MAAM,gCAAuC;IAClD,IAAI;IACJ,OAAO;IACP,YAAY;IACZ,UAAU,EAAE;AACd"}},
    {"offset": {"line": 891, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/themes/sin_and_retribution.ts"],"sourcesContent":["import type { Theme } from \"@/types/theme\"\n\nexport const sin_and_retribution: Theme = {\n  id: \"sin_and_retribution\",\n  label: \"罪と報い\",\n  categoryID: \"\",\n  keywords: [],\n}"],"names":[],"mappings":";;;;AAEO,MAAM,sBAA6B;IACxC,IAAI;IACJ,OAAO;IACP,YAAY;IACZ,UAAU,EAAE;AACd"}},
    {"offset": {"line": 908, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/themes/violence_of_memory_and_time.ts"],"sourcesContent":["import type { Theme } from \"@/types/theme\"\n\nexport const violence_of_memory_and_time: Theme = {\n  id: \"violence_of_memory_and_time\",\n  label: \"記憶と時間の暴力\",\n  categoryID: \"\",      \n  keywords: [],            \n}"],"names":[],"mappings":";;;;AAEO,MAAM,8BAAqC;IAChD,IAAI;IACJ,OAAO;IACP,YAAY;IACZ,UAAU,EAAE;AACd"}},
    {"offset": {"line": 925, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/themes/themeList.ts"],"sourcesContent":["// src/themes/themeList.ts\n\nimport type { Theme } from '@/types/theme'\nimport {\n  beauty_and_cruelty,\n  between_life_and_death,\n  collapse_of_reality,\n  collective_madness,\n  distorted_justice,\n  erosion_of_love,\n  forbidden_knowledge,\n  genesis_and_apocalypse,\n  inevitable_end,\n  logic_of_the_night,\n  loneliness_and_collapse,\n  salvation_without_god,\n  self_denial_and_fragmentation,\n  sin_and_retribution,\n  violence_of_memory_and_time\n} from './index'\n\nexport const themes: Theme[] = [\n  beauty_and_cruelty,\n  between_life_and_death,\n  collapse_of_reality,\n  collective_madness,\n  distorted_justice,\n  erosion_of_love,\n  forbidden_knowledge,\n  genesis_and_apocalypse,\n  inevitable_end,\n  logic_of_the_night,\n  loneliness_and_collapse,\n  salvation_without_god,\n  self_denial_and_fragmentation,\n  sin_and_retribution,\n  violence_of_memory_and_time\n]\n\n"],"names":[],"mappings":"AAAA,0BAA0B;;;;;AAG1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAkBO,MAAM,SAAkB;IAC7B,qJAAkB;IAClB,6JAAsB;IACtB,uJAAmB;IACnB,qJAAkB;IAClB,mJAAiB;IACjB,+IAAe;IACf,uJAAmB;IACnB,6JAAsB;IACtB,6IAAc;IACd,qJAAkB;IAClB,+JAAuB;IACvB,2JAAqB;IACrB,2KAA6B;IAC7B,uJAAmB;IACnB,uKAA2B;CAC5B"}},
    {"offset": {"line": 971, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/themes/index.ts"],"sourcesContent":["// src/themes/index.ts\n\nimport { themes } from \"./themeList\"\n\nexport { sin_and_retribution } from './sin_and_retribution'\nexport { distorted_justice } from './distorted_justice'\nexport { erosion_of_love } from './erosion_of_love'\nexport { loneliness_and_collapse } from './loneliness_and_collapse'\nexport { self_denial_and_fragmentation } from './self_denial_and_fragmentation'\nexport { violence_of_memory_and_time } from './violence_of_memory_and_time'\nexport { collapse_of_reality } from './collapse_of_reality'\nexport { forbidden_knowledge } from './forbidden_knowledge'\nexport { salvation_without_god } from './salvation_without_god'\nexport { genesis_and_apocalypse } from './genesis_and_apocalypse'\nexport { between_life_and_death } from './between_life_and_death'\nexport { logic_of_the_night } from './logic_of_the_night'\nexport { beauty_and_cruelty } from './beauty_and_cruelty'\nexport { collective_madness } from './collective_madness'\nexport { inevitable_end } from './inevitable_end'\n\nexport * from \"./themeList\"\n\nexport const themesById = Object.fromEntries(\n  themes.map(t => [t.id, t])\n)"],"names":[],"mappings":"AAAA,sBAAsB;;;;;AAEtB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AAIO,MAAM,aAAa,OAAO,WAAW,CAC1C,gIAAM,CAAC,GAAG,CAAC,CAAA,IAAK;QAAC,EAAE,EAAE;QAAE;KAAE"}},
    {"offset": {"line": 1020, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/voices/neutral.ts"],"sourcesContent":["import { Voice } from '@/types/voice'\n\nexport const neutral: Voice = {\n  id: \"neutral\",\n  label: \"ニュートラル\",\n  keywords: [\"客観的\", \"淡々\", \"標準的\", \"バランス\", \"説明的\", \"読みやすい\"],\n};\n"],"names":[],"mappings":";;;;AAEO,MAAM,UAAiB;IAC5B,IAAI;IACJ,OAAO;IACP,UAAU;QAAC;QAAO;QAAM;QAAO;QAAQ;QAAO;KAAQ;AACxD"}},
    {"offset": {"line": 1043, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/voices/poetic.ts"],"sourcesContent":["import { Voice } from '@/types/voice'\n\nexport const poetic: Voice = {\n  id: \"poetic\",\n  label: \"詩的\",\n  keywords: [\"lyrical\", \"metaphorical\", \"evocative\", \"rhythmic\", \"symbolic\"],\n};\n\n"],"names":[],"mappings":";;;;AAEO,MAAM,SAAgB;IAC3B,IAAI;IACJ,OAAO;IACP,UAAU;QAAC;QAAW;QAAgB;QAAa;QAAY;KAAW;AAC5E"}},
    {"offset": {"line": 1065, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/voices/melancholic.ts"],"sourcesContent":["import { Voice } from '@/types/voice'\n\nexport const melancholic: Voice = {\n  id: \"melancholic\",\n  label: \"メランコリック\",\n  keywords: [\"sorrow\", \"reflective\", \"nostalgic\", \"regret\", \"gentle sadness\"],\n};"],"names":[],"mappings":";;;;AAEO,MAAM,cAAqB;IAChC,IAAI;IACJ,OAAO;IACP,UAAU;QAAC;QAAU;QAAc;QAAa;QAAU;KAAiB;AAC7E"}},
    {"offset": {"line": 1087, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/voices/cold.ts"],"sourcesContent":["import { Voice } from '@/types/voice'\n\nexport const cold: Voice = {\n  id: \"cold\",\n  label: \"冷酷\",\n  keywords: [\"detached\", \"rational\", \"analytical\", \"unemotional\", \"harsh truth\"],\n};\n"],"names":[],"mappings":";;;;AAEO,MAAM,OAAc;IACzB,IAAI;IACJ,OAAO;IACP,UAAU;QAAC;QAAY;QAAY;QAAc;QAAe;KAAc;AAChF"}},
    {"offset": {"line": 1109, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/voices/scholarly.ts"],"sourcesContent":["import { Voice } from '@/types/voice'\n\nexport const scholarly: Voice = {\n  id: \"scholarly\",\n  label: \"学者風\",\n  keywords: [\"intellectual\", \"precise\", \"informed\", \"didactic\", \"systematic\"],\n};\n"],"names":[],"mappings":";;;;AAEO,MAAM,YAAmB;IAC9B,IAAI;IACJ,OAAO;IACP,UAAU;QAAC;QAAgB;QAAW;QAAY;QAAY;KAAa;AAC7E"}},
    {"offset": {"line": 1131, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/voices/mystic.ts"],"sourcesContent":["import { Voice } from '@/types/voice'\n\nexport const mystic: Voice = {\n  id: \"mystic\",\n  label: \"神秘的\",\n  keywords: [\"spiritual\", \"enigmatic\", \"dreamlike\", \"symbolic\", \"esoteric\"],\n};"],"names":[],"mappings":";;;;AAEO,MAAM,SAAgB;IAC3B,IAAI;IACJ,OAAO;IACP,UAAU;QAAC;QAAa;QAAa;QAAa;QAAY;KAAW;AAC3E"}},
    {"offset": {"line": 1153, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/voices/heroic.ts"],"sourcesContent":["import { Voice } from '@/types/voice'\n\nexport const heroic: Voice = {\n  id: \"heroic\",\n  label: \"威風堂々\",\n  keywords: [\"brave\", \"inspiring\", \"epic\", \"resolute\", \"determined\"],\n};"],"names":[],"mappings":";;;;AAEO,MAAM,SAAgB;IAC3B,IAAI;IACJ,OAAO;IACP,UAAU;QAAC;QAAS;QAAa;QAAQ;QAAY;KAAa;AACpE"}},
    {"offset": {"line": 1175, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/voices/childlike.ts"],"sourcesContent":["import { Voice } from '@/types/voice'\n\nexport const childlike: Voice = {\n  id: \"childlike\",\n  label: \"子どもっぽい\",\n  keywords: [\"innocent\", \"curious\", \"simple\", \"wonder\", \"naive\"],\n};\n"],"names":[],"mappings":";;;;AAEO,MAAM,YAAmB;IAC9B,IAAI;IACJ,OAAO;IACP,UAAU;QAAC;QAAY;QAAW;QAAU;QAAU;KAAQ;AAChE"}},
    {"offset": {"line": 1197, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/voices/playful.ts"],"sourcesContent":["import { Voice } from '@/types/voice'\n\nexport const playful: Voice = {\n  id: \"playful\",\n  label: \"陽気\",\n  keywords: [\"humor\", \"light\", \"cheerful\", \"casual\", \"spontaneous\"],\n};"],"names":[],"mappings":";;;;AAEO,MAAM,UAAiB;IAC5B,IAAI;IACJ,OAAO;IACP,UAAU;QAAC;QAAS;QAAS;QAAY;QAAU;KAAc;AACnE"}},
    {"offset": {"line": 1219, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/voices/osaka_obahan.ts"],"sourcesContent":["import { Voice } from '@/types/voice'\n\nexport const osaka_obahan: Voice = {\n  id: \"osaka_obahan\",\n  label: \"大阪のオバハン風\",\n  keywords: [\"kansai dialect\", \"direct\", \"emotional\", \"humorous\", \"streetwise\"],\n};"],"names":[],"mappings":";;;;AAEO,MAAM,eAAsB;IACjC,IAAI;IACJ,OAAO;IACP,UAAU;QAAC;QAAkB;QAAU;QAAa;QAAY;KAAa;AAC/E"}},
    {"offset": {"line": 1241, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/voices/voiceList.ts"],"sourcesContent":["// src/voices/voiceList.ts\n\nimport type { Voice } from '@/types/voice'\nimport {\n  neutral,\n  poetic,\n  melancholic,\n  cold,\n  scholarly,\n  mystic,\n  heroic,\n  childlike,\n  playful,\n  osaka_obahan\n} from './index'\n\nexport const voices: Voice[] = [\n  neutral,\n  poetic,\n  melancholic,\n  cold,\n  scholarly,\n  mystic,\n  heroic,\n  childlike,\n  playful,\n  osaka_obahan,\n]\n\nexport const voicesById: Record<string, Voice> =\n  Object.fromEntries(voices.map(v => [v.id, v]))\n"],"names":[],"mappings":"AAAA,0BAA0B;;;;;;;AAG1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAaO,MAAM,SAAkB;IAC7B,+HAAO;IACP,6HAAM;IACN,uIAAW;IACX,yHAAI;IACJ,mIAAS;IACT,6HAAM;IACN,6HAAM;IACN,mIAAS;IACT,+HAAO;IACP,yIAAY;CACb;AAEM,MAAM,aACX,OAAO,WAAW,CAAC,OAAO,GAAG,CAAC,CAAA,IAAK;QAAC,EAAE,EAAE;QAAE;KAAE"}},
    {"offset": {"line": 1283, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/voices/index.ts"],"sourcesContent":["// src/voices/index.ts\n\nexport { neutral } from './neutral'\nexport { poetic } from './poetic'\nexport { melancholic } from './melancholic'\nexport { cold } from './cold'\nexport { scholarly } from './scholarly'\nexport { mystic } from './mystic'\nexport { heroic } from './heroic'\nexport { childlike } from './childlike'\nexport { playful } from './playful'\nexport { osaka_obahan } from './osaka_obahan'\n\nexport * from './voiceList'"],"names":[],"mappings":"AAAA,sBAAsB;;AAEtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA"}},
    {"offset": {"line": 1317, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/affinities/icons/strong.png.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 256, height: 256, blurWidth: 8, blurHeight: 8, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAcElEQVR42mXNMQ5FUBRF0av71S/UpqJUmYpOdFoJQyBEp1CIQqNiDEZkXzmNuMlKXvYpntn7YvncDyFSCdWei5BjwiGTmm82o8OCS/zdarMdDTacsqn59vxZo0QmpZpv9keBAav0ar5ZgAQjKhnVghtlWhoJ5xePTAAAAABJRU5ErkJggg==\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,yJAAG;IAAE,OAAO;IAAK,QAAQ;IAAK,WAAW;IAAG,YAAY;IAAG,aAAa;AAA4P"}},
    {"offset": {"line": 1341, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/affinities/icons/neutral.png.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 256, height: 256, blurWidth: 8, blurHeight: 8, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAaklEQVR42m3PsQmAMBQE0J8N0lplE0sXcA+xDjhAZnAY0Y1iYwgEvcAZf+HBa+4+hIh8MTCRkZ9YOMjqYYARPJzk2dVNNrigwE2FXd3EwQpZHWR27n2mh6gOIruWGRLslNi17y0QoKPAzjwDvh5F0IsFPgAAAABJRU5ErkJggg==\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,0JAAG;IAAE,OAAO;IAAK,QAAQ;IAAK,WAAW;IAAG,YAAY;IAAG,aAAa;AAAoP"}},
    {"offset": {"line": 1365, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/affinities/icons/mismatch.png.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 256, height: 256, blurWidth: 8, blurHeight: 8, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAg0lEQVR42nXOPQqDQBCG4SWEkCJ9QhJImcZGtPAAXsADeAFre6+hB7CzsBXExlYrK72BVxD8eRd2wUIHnma+YWaEOK8LbkeBDQN/fPfBCx4qFAjw0OEdPkpMmFHD0bdcZBixKgt6OWAiRauaUo4YkRwIkaDDgAaW2iyJN574KR9c9XMbY30WdpkPkWIAAAAASUVORK5CYII=\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,2JAAG;IAAE,OAAO;IAAK,QAAQ;IAAK,WAAW;IAAG,YAAY;IAAG,aAAa;AAAoR"}},
    {"offset": {"line": 1386, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/components/affinity/AffinityMatrix.tsx"],"sourcesContent":["// src/components/affinity/AffinityMatrix.tsx\n\nimport React from 'react'\nimport type { VoiceKey } from \"@/types/voiceKeys\"\nimport type { SituationKey } from \"@/types/situationKeys\"\nimport type { AffinityMap } from \"@/affinities/affinityMap\"\n\nimport strongIcon from '@/affinities/icons/strong.png'\nimport neutralIcon from '@/affinities/icons/neutral.png'\nimport mismatchIcon from '@/affinities/icons/mismatch.png'\n\ntype Props = {\n  map: AffinityMap\n  selectedSituation?: SituationKey | null\n  selectedVoice?: VoiceKey | null\n  situationLabelMap: Record<string, string>\n  voiceLabelMap: Record<string, string>\n}\n\nconst ICON_MAP = {\n  '◎': strongIcon.src,\n  '◯': neutralIcon.src,\n  '△': mismatchIcon.src,\n}\n\nconst VOICE_FIRST: VoiceKey = 'neutral'\nconst VOICE_LAST: VoiceKey = 'osaka_obahan'\n\nconst sortVoices = (voices: VoiceKey[]) => {\n  const core = voices.filter(v => v !== VOICE_FIRST && v !== VOICE_LAST)\n  return [\n    ...(voices.includes(VOICE_FIRST) ? [VOICE_FIRST] : []),\n    ...core,\n    ...(voices.includes(VOICE_LAST) ? [VOICE_LAST] : []),\n  ]\n}\n\nexport default function AffinityMatrix({\n  map,\n  selectedSituation,\n  selectedVoice,\n  situationLabelMap,\n  voiceLabelMap,\n}: Props) {\n  const situations = Object.keys(map) as SituationKey[]\n  if (situations.length === 0) return null\n\n  const voices = sortVoices(\n    Object.keys(map[situations[0]] ?? {}) as VoiceKey[]\n  )\n\n  return (\n    <div>\n    <div style={{ fontSize: 13, marginBottom: 12, textAlign: 'center', fontWeight: 'bold'}}>\n      <img src={strongIcon.src} alt=\"strong\" style={{ width: 14, verticalAlign: 'middle' }} /> = 好相性で王道\n      <img src={neutralIcon.src} alt=\"neutral\" style={{ width: 14, verticalAlign: 'middle' }} /> = 自然な物語が成立\n      <img src={mismatchIcon.src} alt=\"mismatch\" style={{ width: 14, verticalAlign: 'middle' }} /> = ズレを楽しむ\n    </div>\n\n    <div\n      style={{\n        display: 'grid',\n        gridTemplateColumns: `120px repeat(${voices.length}, 1fr)`,\n        gap: 2,\n      }}\n    >\n      <div />\n      {voices.map(v => (\n        <div\n          key={`h-${v}`}\n          style={{ fontSize: 11, textAlign: 'center', opacity: 0.7 }}\n        >\n          {voiceLabelMap[v] ?? v}\n        </div>\n      ))}\n\n      {situations.map(situation => (\n        <React.Fragment key={situation}>\n          <div\n            style={{\n              fontSize: 11,\n              opacity: 0.7,\n              whiteSpace: 'nowrap',\n            }}\n          >\n            {situationLabelMap[situation] ?? situation}\n          </div>\n\n          {voices.map(voice => {\n            const cell = map[situation]?.[voice]\n            if (!cell) {\n              return (\n                <div\n                  key={`${situation}-${voice}`}\n                  style={{ height: 28 }}\n                />\n              )\n            }\n\n            return (\n              <div\n                key={`${situation}-${voice}`}\n                title={cell.comment}\n                style={{\n                  border: '1px solid #333',\n                  height: 28,\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  borderRadius: 4,\n                  background:\n                    situation === selectedSituation ||\n                    voice === selectedVoice\n                      ? 'rgba(0,0,0,0.05)'\n                      : 'transparent',\n                }}\n              >\n                <img\n                  src={ICON_MAP[cell.level]}\n                  alt={cell.level}\n                  style={{ width: 14, height: 14 }}\n                />\n              </div>\n            )\n          })}\n        </React.Fragment>\n      ))}\n    </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"AAAA,6CAA6C;;;;;;AAE7C;AAKA;AACA;AACA;;;;;;AAUA,MAAM,WAAW;IACf,KAAK,iVAAU,CAAC,GAAG;IACnB,KAAK,mVAAW,CAAC,GAAG;IACpB,KAAK,qVAAY,CAAC,GAAG;AACvB;AAEA,MAAM,cAAwB;AAC9B,MAAM,aAAuB;AAE7B,MAAM,aAAa,CAAC;IAClB,MAAM,OAAO,OAAO,MAAM,CAAC,CAAA,IAAK,MAAM,eAAe,MAAM;IAC3D,OAAO;WACD,OAAO,QAAQ,CAAC,eAAe;YAAC;SAAY,GAAG,EAAE;WAClD;WACC,OAAO,QAAQ,CAAC,cAAc;YAAC;SAAW,GAAG,EAAE;KACpD;AACH;AAEe,SAAS,eAAe,EACrC,GAAG,EACH,iBAAiB,EACjB,aAAa,EACb,iBAAiB,EACjB,aAAa,EACP;IACN,MAAM,aAAa,OAAO,IAAI,CAAC;IAC/B,IAAI,WAAW,MAAM,KAAK,GAAG,OAAO;IAEpC,MAAM,SAAS,WACb,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC;IAGrC,qBACE,0JAAC;;0BACD,0JAAC;gBAAI,OAAO;oBAAE,UAAU;oBAAI,cAAc;oBAAI,WAAW;oBAAU,YAAY;gBAAM;;kCACnF,0JAAC;wBAAI,KAAK,iVAAU,CAAC,GAAG;wBAAE,KAAI;wBAAS,OAAO;4BAAE,OAAO;4BAAI,eAAe;wBAAS;;;;;;oBAAK;kCACxF,0JAAC;wBAAI,KAAK,mVAAW,CAAC,GAAG;wBAAE,KAAI;wBAAU,OAAO;4BAAE,OAAO;4BAAI,eAAe;wBAAS;;;;;;oBAAK;kCAC1F,0JAAC;wBAAI,KAAK,qVAAY,CAAC,GAAG;wBAAE,KAAI;wBAAW,OAAO;4BAAE,OAAO;4BAAI,eAAe;wBAAS;;;;;;oBAAK;;;;;;;0BAG9F,0JAAC;gBACC,OAAO;oBACL,SAAS;oBACT,qBAAqB,CAAC,aAAa,EAAE,OAAO,MAAM,CAAC,MAAM,CAAC;oBAC1D,KAAK;gBACP;;kCAEA,0JAAC;;;;;oBACA,OAAO,GAAG,CAAC,CAAA,kBACV,0JAAC;4BAEC,OAAO;gCAAE,UAAU;gCAAI,WAAW;gCAAU,SAAS;4BAAI;sCAExD,aAAa,CAAC,EAAE,IAAI;2BAHhB,CAAC,EAAE,EAAE,GAAG;;;;;oBAOhB,WAAW,GAAG,CAAC,CAAA,0BACd,0JAAC,qIAAK,CAAC,QAAQ;;8CACb,0JAAC;oCACC,OAAO;wCACL,UAAU;wCACV,SAAS;wCACT,YAAY;oCACd;8CAEC,iBAAiB,CAAC,UAAU,IAAI;;;;;;gCAGlC,OAAO,GAAG,CAAC,CAAA;oCACV,MAAM,OAAO,GAAG,CAAC,UAAU,EAAE,CAAC,MAAM;oCACpC,IAAI,CAAC,MAAM;wCACT,qBACE,0JAAC;4CAEC,OAAO;gDAAE,QAAQ;4CAAG;2CADf,GAAG,UAAU,CAAC,EAAE,OAAO;;;;;oCAIlC;oCAEA,qBACE,0JAAC;wCAEC,OAAO,KAAK,OAAO;wCACnB,OAAO;4CACL,QAAQ;4CACR,QAAQ;4CACR,SAAS;4CACT,YAAY;4CACZ,gBAAgB;4CAChB,cAAc;4CACd,YACE,cAAc,qBACd,UAAU,gBACN,qBACA;wCACR;kDAEA,cAAA,0JAAC;4CACC,KAAK,QAAQ,CAAC,KAAK,KAAK,CAAC;4CACzB,KAAK,KAAK,KAAK;4CACf,OAAO;gDAAE,OAAO;gDAAI,QAAQ;4CAAG;;;;;;uCAnB5B,GAAG,UAAU,CAAC,EAAE,OAAO;;;;;gCAuBlC;;2BA/CmB;;;;;;;;;;;;;;;;;AAqD7B;KA7FwB"}},
    {"offset": {"line": 1588, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/data/reactionRules.ts"],"sourcesContent":["// src/data/reactionRules.ts\n\nimport { ReactionProfile, ReactionMagnitude } from \"@/types/reactionProfile\"\n\nconst M = (n: number) => n as ReactionMagnitude\n\nconst P = (\n  r = 0, t = 0, d = 0, c = 0, v = 0, x = 0\n): ReactionProfile => ({\n  resonance: M(r),\n  tension: M(t),\n  distortion: M(d),\n  collapse: M(c),\n  void: M(v),\n  transcendence: M(x),\n})\n\nexport const reactionRules: Record<string, Record<string, ReactionProfile>> = {\n  holmes: {\n    beauty_and_cruelty: P(0,0,4,0,0,0),\n    between_life_and_death: P(0,4,0,0,0,0),\n    collapse_of_reality: P(0,0,5,0,0,0),\n    collective_madness: P(0,3,0,0,0,0),\n    distorted_justice: P(0,0,4,0,0,0),\n    erosion_of_love: P(0,0,0,0,3,0),\n    forbidden_knowledge: P(0,0,5,0,0,0),\n    genesis_and_apocalypse: P(0,3,0,0,0,0),\n    inevitable_end: P(0,0,0,0,4,0),\n    logic_of_the_night: P(4,0,0,0,0,0),\n    loneliness_and_collapse: P(0,0,0,0,4,0),\n    salvation_without_god: P(0,0,3,0,0,0),\n    self_denial_and_fragmentation: P(0,0,4,0,0,0),\n    sin_and_retribution: P(0,4,0,0,0,0),\n    violence_of_memory_and_time: P(0,0,4,0,0,0),\n  },\n\n  little_prince: {\n    beauty_and_cruelty: P(3,0,0,0,0,0),\n    between_life_and_death: P(0,0,0,0,0,4),\n    collapse_of_reality: P(0,0,0,0,3,0),\n    collective_madness: P(0,0,0,0,3,0),\n    distorted_justice: P(0,2,0,0,0,0),\n    erosion_of_love: P(4,0,0,0,0,0),\n    forbidden_knowledge: P(0,0,0,0,3,0),\n    genesis_and_apocalypse: P(0,0,0,0,0,5),\n    inevitable_end: P(0,0,0,0,0,4),\n    logic_of_the_night: P(4,0,0,0,0,0),\n    loneliness_and_collapse: P(0,0,0,0,4,0),\n    salvation_without_god: P(0,0,0,0,0,4),\n    self_denial_and_fragmentation: P(0,0,0,0,3,0),\n    sin_and_retribution: P(0,2,0,0,0,0),\n    violence_of_memory_and_time: P(0,0,0,0,3,0),\n  },\n\n  izanami: {\n    beauty_and_cruelty: P(0,0,4,0,0,0),\n    between_life_and_death: P(0,0,0,5,0,0),\n    collapse_of_reality: P(0,0,0,5,0,0),\n    collective_madness: P(0,0,4,0,0,0),\n    distorted_justice: P(0,0,0,4,0,0),\n    erosion_of_love: P(0,0,0,5,0,0),\n    forbidden_knowledge: P(0,0,4,0,0,0),\n    genesis_and_apocalypse: P(0,0,0,5,0,0),\n    inevitable_end: P(0,0,0,0,4,0),\n    logic_of_the_night: P(0,0,3,0,0,0),\n    loneliness_and_collapse: P(0,0,0,0,4,0),\n    salvation_without_god: P(0,0,0,4,0,0),\n    self_denial_and_fragmentation: P(0,0,4,0,0,0),\n    sin_and_retribution: P(0,0,0,4,0,0),\n    violence_of_memory_and_time: P(0,0,0,5,0,0),\n  },\n\n  yeti: {\n    beauty_and_cruelty: P(0,0,0,0,3,0),\n    between_life_and_death: P(0,0,0,0,4,0),\n    collapse_of_reality: P(0,0,0,0,3,0),\n    collective_madness: P(0,0,0,0,4,0),\n    distorted_justice: P(0,0,0,0,3,0),\n    erosion_of_love: P(0,0,0,0,3,0),\n    forbidden_knowledge: P(0,0,0,0,3,0),\n    genesis_and_apocalypse: P(0,0,0,0,2,0),\n    inevitable_end: P(0,0,0,0,4,0),\n    logic_of_the_night: P(3,0,0,0,0,0),\n    loneliness_and_collapse: P(0,0,0,0,5,0),\n    salvation_without_god: P(0,0,0,0,3,0),\n    self_denial_and_fragmentation: P(0,0,0,0,4,0),\n    sin_and_retribution: P(0,0,0,0,3,0),\n    violence_of_memory_and_time: P(0,0,0,0,4,0),\n  },\n\n  square_flatland: {\n    beauty_and_cruelty: P(0,0,4,0,0,0),\n    between_life_and_death: P(0,0,3,0,0,0),\n    collapse_of_reality: P(0,0,5,0,0,0),\n    collective_madness: P(0,0,4,0,0,0),\n    distorted_justice: P(0,0,4,0,0,0),\n    erosion_of_love: P(0,0,0,0,3,0),\n    forbidden_knowledge: P(0,0,5,0,0,0),\n    genesis_and_apocalypse: P(0,0,3,0,0,0),\n    inevitable_end: P(0,0,0,0,3,0),\n    logic_of_the_night: P(4,0,0,0,0,0),\n    loneliness_and_collapse: P(0,0,0,0,3,0),\n    salvation_without_god: P(0,0,4,0,0,0),\n    self_denial_and_fragmentation: P(0,0,5,0,0,0),\n    sin_and_retribution: P(0,0,4,0,0,0),\n    violence_of_memory_and_time: P(0,0,4,0,0,0),\n  },\n\n  snufkin: {\n    beauty_and_cruelty: P(3,0,0,0,0,0),\n    between_life_and_death: P(0,0,0,0,4,0),\n    collapse_of_reality: P(0,0,0,0,3,0),\n    collective_madness: P(0,0,0,0,4,0),\n    distorted_justice: P(0,0,0,0,3,0),\n    erosion_of_love: P(0,0,0,0,3,0),\n    forbidden_knowledge: P(0,0,0,0,3,0),\n    genesis_and_apocalypse: P(0,0,0,0,2,0),\n    inevitable_end: P(0,0,0,0,4,0),\n    logic_of_the_night: P(4,0,0,0,0,0),\n    loneliness_and_collapse: P(0,0,0,0,5,0),\n    salvation_without_god: P(0,0,0,0,3,0),\n    self_denial_and_fragmentation: P(0,0,0,0,4,0),\n    sin_and_retribution: P(0,0,0,0,3,0),\n    violence_of_memory_and_time: P(0,0,0,0,4,0),\n  },\n\n  honda_tadakatsu: {\n    beauty_and_cruelty: P(0,3,0,0,0,0),\n    between_life_and_death: P(0,4,0,0,0,0),\n    collapse_of_reality: P(0,0,0,3,0,0),\n    collective_madness: P(0,3,0,0,0,0),\n    distorted_justice: P(0,4,0,0,0,0),\n    erosion_of_love: P(0,0,0,0,2,0),\n    forbidden_knowledge: P(0,3,0,0,0,0),\n    genesis_and_apocalypse: P(0,4,0,0,0,0),\n    inevitable_end: P(0,0,0,0,3,0),\n    logic_of_the_night: P(3,0,0,0,0,0),\n    loneliness_and_collapse: P(0,0,0,0,3,0),\n    salvation_without_god: P(0,3,0,0,0,0),\n    self_denial_and_fragmentation: P(0,0,0,3,0,0),\n    sin_and_retribution: P(0,5,0,0,0,0),\n    violence_of_memory_and_time: P(0,4,0,0,0,0),\n  },\n\n  tinkerbell: {\n    beauty_and_cruelty: P(0,0,3,0,0,0),\n    between_life_and_death: P(0,0,3,0,0,0),\n    collapse_of_reality: P(0,0,4,0,0,0),\n    collective_madness: P(0,0,3,0,0,0),\n    distorted_justice: P(0,0,3,0,0,0),\n    erosion_of_love: P(0,0,4,0,0,0),\n    forbidden_knowledge: P(0,0,3,0,0,0),\n    genesis_and_apocalypse: P(0,0,3,0,0,0),\n    inevitable_end: P(0,0,0,0,2,0),\n    logic_of_the_night: P(0,0,3,0,0,0),\n    loneliness_and_collapse: P(0,0,0,0,3,0),\n    salvation_without_god: P(0,0,3,0,0,0),\n    self_denial_and_fragmentation: P(0,0,4,0,0,0),\n    sin_and_retribution: P(0,0,3,0,0,0),\n    violence_of_memory_and_time: P(0,0,3,0,0,0),\n  },\n\n  ragnar: {\n    beauty_and_cruelty: P(0,0,0,4,0,0),\n    between_life_and_death: P(0,0,0,4,0,0),\n    collapse_of_reality: P(0,0,0,5,0,0),\n    collective_madness: P(0,0,0,4,0,0),\n    distorted_justice: P(0,0,0,5,0,0),\n    erosion_of_love: P(0,0,0,4,0,0),\n    forbidden_knowledge: P(0,0,3,0,0,0),\n    genesis_and_apocalypse: P(0,0,0,5,0,0),\n    inevitable_end: P(0,0,0,0,3,0),\n    logic_of_the_night: P(0,3,0,0,0,0),\n    loneliness_and_collapse: P(0,0,0,0,3,0),\n    salvation_without_god: P(0,0,0,4,0,0),\n    self_denial_and_fragmentation: P(0,0,0,4,0,0),\n    sin_and_retribution: P(0,0,0,5,0,0),\n    violence_of_memory_and_time: P(0,0,0,5,0,0),\n  },\n\n  lupin: {\n    beauty_and_cruelty: P(4,0,0,0,0,0),\n    between_life_and_death: P(0,3,0,0,0,0),\n    collapse_of_reality: P(0,0,4,0,0,0),\n    collective_madness: P(0,0,3,0,0,0),\n    distorted_justice: P(0,0,4,0,0,0),\n    erosion_of_love: P(3,0,0,0,0,0),\n    forbidden_knowledge: P(0,0,4,0,0,0),\n    genesis_and_apocalypse: P(0,3,0,0,0,0),\n    inevitable_end: P(0,0,0,0,3,0),\n    logic_of_the_night: P(4,0,0,0,0,0),\n    loneliness_and_collapse: P(0,0,0,0,3,0),\n    salvation_without_god: P(0,0,3,0,0,0),\n    self_denial_and_fragmentation: P(0,0,3,0,0,0),\n    sin_and_retribution: P(0,3,0,0,0,0),\n    violence_of_memory_and_time: P(0,0,4,0,0,0),\n  },\n\n  puss_in_boots: {\n    beauty_and_cruelty: P(4,0,0,0,0,0),\n    between_life_and_death: P(0,3,0,0,0,0),\n    collapse_of_reality: P(0,0,3,0,0,0),\n    collective_madness: P(0,0,3,0,0,0),\n    distorted_justice: P(0,0,4,0,0,0),\n    erosion_of_love: P(3,0,0,0,0,0),\n    forbidden_knowledge: P(0,0,3,0,0,0),\n    genesis_and_apocalypse: P(0,3,0,0,0,0),\n    inevitable_end: P(0,0,0,0,2,0),\n    logic_of_the_night: P(4,0,0,0,0,0),\n    loneliness_and_collapse: P(0,0,0,0,2,0),\n    salvation_without_god: P(0,0,3,0,0,0),\n    self_denial_and_fragmentation: P(0,0,3,0,0,0),\n    sin_and_retribution: P(0,3,0,0,0,0),\n    violence_of_memory_and_time: P(0,0,3,0,0,0),\n  },\n\n  marie_antoinette: {\n    beauty_and_cruelty: P(0,0,0,4,0,0),\n    between_life_and_death: P(0,0,0,4,0,0),\n    collapse_of_reality: P(0,0,0,5,0,0),\n    collective_madness: P(0,0,4,0,0,0),\n    distorted_justice: P(0,0,0,5,0,0),\n    erosion_of_love: P(0,0,0,0,3,0),\n    forbidden_knowledge: P(0,0,3,0,0,0),\n    genesis_and_apocalypse: P(0,0,0,4,0,0),\n    inevitable_end: P(0,0,0,0,4,0),\n    logic_of_the_night: P(0,0,3,0,0,0),\n    loneliness_and_collapse: P(0,0,0,0,4,0),\n    salvation_without_god: P(0,0,0,4,0,0),\n    self_denial_and_fragmentation: P(0,0,0,4,0,0),\n    sin_and_retribution: P(0,0,0,5,0,0),\n    violence_of_memory_and_time: P(0,0,0,5,0,0),\n  },\n\n  alice: {\n    beauty_and_cruelty: P(0,0,3,0,0,0),\n    between_life_and_death: P(0,0,3,0,0,0),\n    collapse_of_reality: P(0,0,5,0,0,0),\n    collective_madness: P(0,0,4,0,0,0),\n    distorted_justice: P(0,0,3,0,0,0),\n    erosion_of_love: P(0,0,0,0,2,0),\n    forbidden_knowledge: P(0,0,4,0,0,0),\n    genesis_and_apocalypse: P(0,0,3,0,0,0),\n    inevitable_end: P(0,0,0,0,2,0),\n    logic_of_the_night: P(0,0,4,0,0,0),\n    loneliness_and_collapse: P(0,0,0,0,2,0),\n    salvation_without_god: P(0,0,3,0,0,0),\n    self_denial_and_fragmentation: P(0,0,4,0,0,0),\n    sin_and_retribution: P(0,0,3,0,0,0),\n    violence_of_memory_and_time: P(0,0,4,0,0,0),\n  },\n\n  kingyo_ataishi: {\n    beauty_and_cruelty: P(3,0,0,0,0,0),\n    between_life_and_death: P(0,0,3,0,0,0),\n    collapse_of_reality: P(0,0,4,0,0,0),\n    collective_madness: P(0,0,3,0,0,0),\n    distorted_justice: P(0,0,3,0,0,0),\n    erosion_of_love: P(3,0,0,0,0,0),\n    forbidden_knowledge: P(0,0,3,0,0,0),\n    genesis_and_apocalypse: P(0,0,3,0,0,0),\n    inevitable_end: P(0,0,0,0,3,0),\n    logic_of_the_night: P(3,0,0,0,0,0),\n    loneliness_and_collapse: P(0,0,0,0,3,0),\n    salvation_without_god: P(0,0,3,0,0,0),\n    self_denial_and_fragmentation: P(0,0,4,0,0,0),\n    sin_and_retribution: P(0,0,3,0,0,0),\n    violence_of_memory_and_time: P(0,0,3,0,0,0),\n  },\n\n  ludwig_ii: {\n    beauty_and_cruelty: P(0,0,0,4,0,0),\n    between_life_and_death: P(0,0,0,4,0,0),\n    collapse_of_reality: P(0,0,0,5,0,0),\n    collective_madness: P(0,0,4,0,0,0),\n    distorted_justice: P(0,0,0,4,0,0),\n    erosion_of_love: P(0,0,0,0,3,0),\n    forbidden_knowledge: P(0,0,4,0,0,0),\n    genesis_and_apocalypse: P(0,0,0,4,0,0),\n    inevitable_end: P(0,0,0,0,4,0),\n    logic_of_the_night: P(0,0,3,0,0,0),\n    loneliness_and_collapse: P(0,0,0,0,4,0),\n    salvation_without_god: P(0,0,0,4,0,0),\n    self_denial_and_fragmentation: P(0,0,0,5,0,0),\n    sin_and_retribution: P(0,0,0,4,0,0),\n    violence_of_memory_and_time: P(0,0,0,5,0,0),\n  },\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1871, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/data/characterProfileBias.ts"],"sourcesContent":["// src/data/characterProfileBias.ts\nimport { ReactionAxis } from \"@/types/reactionAxis\"\n\nexport const characterProfileBias: Record<string, ReactionAxis[]> = {\n  holmes: [\"tension\", \"resonance\", \"distortion\"],\n  little_prince: [\"transcendence\", \"resonance\", \"void\"],\n  izanami: [\"collapse\", \"void\", \"transcendence\"],\n  yeti: [\"void\", \"distortion\"],\n  square_flatland: [\"distortion\", \"tension\"],\n  alice: [\"distortion\", \"tension\", \"transcendence\"],\n  ludwig_ii: [\"distortion\", \"void\", \"collapse\"],\n  kingyo_atai: [\"void\", \"distortion\", \"transcendence\"],\n  snufkin: [\"void\", \"tension\"],\n  honda_tadakatsu: [\"resonance\", \"tension\"],\n  tinkerbell: [\"distortion\", \"collapse\"],\n  ragnar: [\"collapse\", \"resonance\", \"tension\", \"transcendence\"],\n  lupin: [\"resonance\", \"tension\"],\n  puss_in_boots: [\"resonance\", \"tension\"],\n  marie_antoinette: [\"tension\", \"collapse\"],\n}\n"],"names":[],"mappings":"AAAA,mCAAmC;;;;;AAG5B,MAAM,uBAAuD;IAClE,QAAQ;QAAC;QAAW;QAAa;KAAa;IAC9C,eAAe;QAAC;QAAiB;QAAa;KAAO;IACrD,SAAS;QAAC;QAAY;QAAQ;KAAgB;IAC9C,MAAM;QAAC;QAAQ;KAAa;IAC5B,iBAAiB;QAAC;QAAc;KAAU;IAC1C,OAAO;QAAC;QAAc;QAAW;KAAgB;IACjD,WAAW;QAAC;QAAc;QAAQ;KAAW;IAC7C,aAAa;QAAC;QAAQ;QAAc;KAAgB;IACpD,SAAS;QAAC;QAAQ;KAAU;IAC5B,iBAAiB;QAAC;QAAa;KAAU;IACzC,YAAY;QAAC;QAAc;KAAW;IACtC,QAAQ;QAAC;QAAY;QAAa;QAAW;KAAgB;IAC7D,OAAO;QAAC;QAAa;KAAU;IAC/B,eAAe;QAAC;QAAa;KAAU;IACvC,kBAAkB;QAAC;QAAW;KAAW;AAC3C"}},
    {"offset": {"line": 1953, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/lib/getReactionProfile.ts"],"sourcesContent":["// src/lib/getReactionProfile.ts\n\nimport { ReactionProfile, ReactionAxis, ReactionMagnitude } from \"@/types/reactionProfile\"\nimport { reactionRules } from \"@/data/reactionRules\"\nimport { characterProfileBias } from \"@/data/characterProfileBias\"\n\nexport function getReactionProfile(\n  characterId: string,\n  motifId: string\n): ReactionProfile {\n\n  // ① 明示ルール（正）\n  const ruleForCharacter = reactionRules[characterId]\n  if (ruleForCharacter && ruleForCharacter[motifId]) {\n    return ruleForCharacter[motifId] // ReactionProfile をそのまま返す\n  }\n\n\n  // ② キャラ固有バイアス\n  const bias = characterProfileBias[characterId]\n  if (bias && bias.length > 0) {\n    return profileFromAxes(\n      bias,\n      bias.map((_, i) => clampMagnitude(5 - i))\n    )\n  }\n\n  // ③ デフォルト（安全）\n  return emptyProfile()\n}\n\nfunction emptyProfile(): ReactionProfile {\n  return {\n    resonance: 0,\n    tension: 0,\n    distortion: 0,\n    collapse: 0,\n    void: 0,\n    transcendence: 0\n  }\n}\n\nfunction profileFromAxes(\n  axes: ReactionAxis[],\n  magnitudes: ReactionMagnitude[]\n): ReactionProfile {\n  const profile = emptyProfile()\n  axes.forEach((axis, i) => {\n    profile[axis] = magnitudes[i]\n  })\n  return profile\n}\n\nfunction clampMagnitude(n: number): ReactionMagnitude {\n  if (n <= 0) return 0\n  if (n >= 5) return 5\n  return n as ReactionMagnitude\n}\n"],"names":[],"mappings":"AAAA,gCAAgC;;;;;AAGhC;AACA;;;AAEO,SAAS,mBACd,WAAmB,EACnB,OAAe;IAGf,aAAa;IACb,MAAM,mBAAmB,yIAAa,CAAC,YAAY;IACnD,IAAI,oBAAoB,gBAAgB,CAAC,QAAQ,EAAE;QACjD,OAAO,gBAAgB,CAAC,QAAQ,CAAC,0BAA0B;;IAC7D;IAGA,cAAc;IACd,MAAM,OAAO,uJAAoB,CAAC,YAAY;IAC9C,IAAI,QAAQ,KAAK,MAAM,GAAG,GAAG;QAC3B,OAAO,gBACL,MACA,KAAK,GAAG,CAAC,CAAC,GAAG,IAAM,eAAe,IAAI;IAE1C;IAEA,cAAc;IACd,OAAO;AACT;AAEA,SAAS;IACP,OAAO;QACL,WAAW;QACX,SAAS;QACT,YAAY;QACZ,UAAU;QACV,MAAM;QACN,eAAe;IACjB;AACF;AAEA,SAAS,gBACP,IAAoB,EACpB,UAA+B;IAE/B,MAAM,UAAU;IAChB,KAAK,OAAO,CAAC,CAAC,MAAM;QAClB,OAAO,CAAC,KAAK,GAAG,UAAU,CAAC,EAAE;IAC/B;IACA,OAAO;AACT;AAEA,SAAS,eAAe,CAAS;IAC/B,IAAI,KAAK,GAAG,OAAO;IACnB,IAAI,KAAK,GAAG,OAAO;IACnB,OAAO;AACT"}},
    {"offset": {"line": 2006, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/lib/getDominantAxis.ts"],"sourcesContent":["// src/lib/getDominantAxis.ts\nimport { ReactionProfile, ReactionAxis } from \"@/types/reactionProfile\"\n\nexport function getDominantAxis(profile: ReactionProfile): ReactionAxis {\n  return (Object.entries(profile)\n    .sort((a, b) => b[1] - a[1])[0][0]) as ReactionAxis\n}\n"],"names":[],"mappings":"AAAA,6BAA6B;;;;;AAGtB,SAAS,gBAAgB,OAAwB;IACtD,OAAQ,OAAO,OAAO,CAAC,SACpB,IAAI,CAAC,CAAC,GAAG,IAAM,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;AACtC"}},
    {"offset": {"line": 2021, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/components/reaction/CharacterThemeMatrix.tsx"],"sourcesContent":["// src/components/reaction/CharacterThemeMatrix.tsx\n\nimport { characters } from \"@/data/characters\"\nimport { themes } from \"@/themes\"\nimport { getReactionProfile } from \"@/lib/getReactionProfile\"\nimport { getDominantAxis } from \"@/lib/getDominantAxis\"\nimport type { ReactionAxis } from \"@/types/reactionProfile\"\n\nconst AXIS_COLOR: Record<ReactionAxis, string> = {\n  resonance: \"#2563eb\",      // blue\n  tension: \"#c2410c\",        // orange\n  distortion: \"#6b21a8\",     // purple\n  collapse: \"#b91c1c\",       // red\n  void: \"#525252\",           // gray\n  transcendence: \"#16a34a\",  // green\n}\n\nfunction LevelBar({\n  level,\n  color,\n}: {\n  level: number\n  color: string\n}) {\n  return (\n    <div style={{ display: \"flex\", gap: 2, marginTop: 4, justifyContent: \"center\" }}>\n      {Array.from({ length: 5 }).map((_, i) => (\n        <div\n          key={i}\n          style={{\n            width: 10,\n            height: 6,\n            borderRadius: 2,\n            background: i < level ? color : \"#e0e0e0\",\n          }}\n        />\n      ))}\n    </div>\n  )\n}\n\nexport function CharacterThemeMatrix() {\n  return (\n    <div style={{ overflowX: \"auto\", fontSize: 10 }}>\n      <h3>設計者の独断と偏見に基く、特徴の強めなCharacter x Themeを掛け合わせた化学反応(ReactionProfile)の傾向とマグニチュードを可視化したものです。(左右にスクロール)</h3>\n\n      <div\n        style={{\n          display: \"grid\",\n          gridTemplateColumns: `140px repeat(${themes.length}, 1fr)`,\n          gap: 8,\n        }}\n      >\n        {/* Header */}\n        <div />\n        {themes.map(t => (\n          <div\n            key={t.id}\n            style={{\n              fontSize: 11,\n              textAlign: \"center\",\n              opacity: 0.8,\n            }}\n          >\n            {t.label}\n          </div>\n        ))}\n\n        {/* Rows */}\n        {characters.map(c => (\n          <>\n            <div\n              key={c.id}\n              style={{\n                fontSize: 12,\n                fontWeight: 600,\n                whiteSpace: \"nowrap\",\n              }}\n            >\n              {c.name}\n            </div>\n\n            {themes.map(t => {\n              const profile = getReactionProfile(c.id, t.id)\n              const axis = getDominantAxis(profile)\n              const level = profile[axis]\n\n              return (\n                <div\n                  key={`${c.id}-${t.id}`}\n                  style={{\n                    background: \"#a19b8fff\",\n                    borderRadius: 8,\n                    padding: 6,\n                    textAlign: \"center\",\n                    fontSize: 10,\n                  }}\n                >\n                  <div\n                    style={{\n                      fontWeight: 600,\n                      color: AXIS_COLOR[axis],\n                    }}\n                  >\n                    {axis}\n                  </div>\n\n                  <LevelBar level={level} color={AXIS_COLOR[axis]} />\n                </div>\n              )\n            })}\n          </>\n        ))}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"AAAA,mDAAmD;;;;;;AAEnD;AACA;AAAA;AACA;AACA;;;;;;AAGA,MAAM,aAA2C;IAC/C,WAAW;IACX,SAAS;IACT,YAAY;IACZ,UAAU;IACV,MAAM;IACN,eAAe;AACjB;AAEA,SAAS,SAAS,EAChB,KAAK,EACL,KAAK,EAIN;IACC,qBACE,0JAAC;QAAI,OAAO;YAAE,SAAS;YAAQ,KAAK;YAAG,WAAW;YAAG,gBAAgB;QAAS;kBAC3E,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAE,GAAG,GAAG,CAAC,CAAC,GAAG,kBACjC,0JAAC;gBAEC,OAAO;oBACL,OAAO;oBACP,QAAQ;oBACR,cAAc;oBACd,YAAY,IAAI,QAAQ,QAAQ;gBAClC;eANK;;;;;;;;;;AAWf;KAtBS;AAwBF,SAAS;IACd,qBACE,0JAAC;QAAI,OAAO;YAAE,WAAW;YAAQ,UAAU;QAAG;;0BAC5C,0JAAC;0BAAG;;;;;;0BAEJ,0JAAC;gBACC,OAAO;oBACL,SAAS;oBACT,qBAAqB,CAAC,aAAa,EAAE,gIAAM,CAAC,MAAM,CAAC,MAAM,CAAC;oBAC1D,KAAK;gBACP;;kCAGA,0JAAC;;;;;oBACA,gIAAM,CAAC,GAAG,CAAC,CAAA,kBACV,0JAAC;4BAEC,OAAO;gCACL,UAAU;gCACV,WAAW;gCACX,SAAS;4BACX;sCAEC,EAAE,KAAK;2BAPH,EAAE,EAAE;;;;;oBAYZ,mIAAU,CAAC,GAAG,CAAC,CAAA,kBACd;;8CACE,0JAAC;oCAEC,OAAO;wCACL,UAAU;wCACV,YAAY;wCACZ,YAAY;oCACd;8CAEC,EAAE,IAAI;mCAPF,EAAE,EAAE;;;;;gCAUV,gIAAM,CAAC,GAAG,CAAC,CAAA;oCACV,MAAM,UAAU,IAAA,kJAAkB,EAAC,EAAE,EAAE,EAAE,EAAE,EAAE;oCAC7C,MAAM,OAAO,IAAA,4IAAe,EAAC;oCAC7B,MAAM,QAAQ,OAAO,CAAC,KAAK;oCAE3B,qBACE,0JAAC;wCAEC,OAAO;4CACL,YAAY;4CACZ,cAAc;4CACd,SAAS;4CACT,WAAW;4CACX,UAAU;wCACZ;;0DAEA,0JAAC;gDACC,OAAO;oDACL,YAAY;oDACZ,OAAO,UAAU,CAAC,KAAK;gDACzB;0DAEC;;;;;;0DAGH,0JAAC;gDAAS,OAAO;gDAAO,OAAO,UAAU,CAAC,KAAK;;;;;;;uCAlB1C,GAAG,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE;;;;;gCAqB5B;;;;;;;;;;;;;;;AAMZ;MA3EgB"}},
    {"offset": {"line": 2191, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/crowded/circus.ts"],"sourcesContent":["import { SemanticMotif } from \"@/semantic/semanticMotifs\";\n\nexport const circus: SemanticMotif = {\n  id: \"circus\",\n  categoryId: \"crowded\",\n  label: \"サーカス\",\n  keywords: [\n    \"circus\",\n    \"tent\",\n    \"performance_space\",\n    \"spectacle\",\n    \"illusion\",\n    \"crowd\",\n    \"temporary_structure\",\n    \"misplaced_spectacle\",\n    \"cruel_amusement\",\n    \"innocence_exposed\",\n    \"beauty_under_coercion\",\n    \"applause_as_pressure\",\n    \"rules_never_explained\",\n    \"smiling_menace\",\n    \"body_as_display\",\n    \"exit_uncertain\",\n    \"too_bright_to_question\",\n    \"roles_assigned_before_entry\",\n    \"color_as_rule\",\n    \"play_that_continues\",\n    \"smiles_with_obligation\",\n    \"wonder_with_cost\",\n    \"stage_that_teaches\",\n    \"audience_included\",\n    \"beauty_that_does_not_excuse\"\n  ]\n};\n"],"names":[],"mappings":";;;;AAEO,MAAM,SAAwB;IACnC,IAAI;IACJ,YAAY;IACZ,OAAO;IACP,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH"}},
    {"offset": {"line": 2234, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/crowded/neon_district.ts"],"sourcesContent":["import { SemanticMotif } from \"@/semantic/semanticMotifs\";\n\nexport const neon_district: SemanticMotif = {\n  id: \"neon_district\",\n  categoryId: \"crowded\",\n  label: \"ネオン街\",\n  keywords: [\n    \"city\",\n    \"neon_lights\",\n    \"night\",\n    \"crowds\",\n    \"noise\",\n    \"layers\",\n    \"movement\",\n    \"lived_in_space\",\n    \"artificial_light\",\n    \"street_level\",\n    \"small_shops\",\n    \"signboards\"\n  ]\n};\n\n"],"names":[],"mappings":";;;;AAEO,MAAM,gBAA+B;IAC1C,IAAI;IACJ,YAAY;IACZ,OAAO;IACP,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH"}},
    {"offset": {"line": 2264, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/crowded/royal_court.ts"],"sourcesContent":["import { SemanticMotif } from \"@/semantic/semanticMotifs\";\n\nexport const royal_court: SemanticMotif = {\n  id: \"royal_court\",\n  categoryId: \"crowded\",\n  label: \"王宮\",\n  keywords: [\n    \"royal_court\",\n    \"palace\",\n    \"hierarchy\",\n    \"authority\",\n    \"ceremony\",\n    \"tradition\",\n    \"politics\"\n  ]\n};\n"],"names":[],"mappings":";;;;AAEO,MAAM,cAA6B;IACxC,IAAI;IACJ,YAAY;IACZ,OAAO;IACP,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH"}},
    {"offset": {"line": 2289, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/crowded/shopping_mall.ts"],"sourcesContent":["import { SemanticMotif } from \"@/semantic/semanticMotifs\";\n\nexport const shopping_mall: SemanticMotif = {\n  id: \"shopping_mall\",\n  categoryId: \"crowded\",\n  label: \"巨大ショッピングモール\",\n  keywords: [\n    \"shopping_mall\",\n    \"indoor_space\",\n    \"artificial_environment\",\n    \"controlled_climate\",\n    \"bright_lighting\",\n    \"repetitive_layout\",\n    \"escalators\",\n    \"storefronts\",\n    \"constant_music\"\n  ]\n};\n"],"names":[],"mappings":";;;;AAEO,MAAM,gBAA+B;IAC1C,IAAI;IACJ,YAAY;IACZ,OAAO;IACP,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH"}},
    {"offset": {"line": 2316, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/crowded/wall_street.ts"],"sourcesContent":["import { SemanticMotif } from \"@/semantic/semanticMotifs\";\n\nexport const wall_street: SemanticMotif = {\n  id: \"wall_street\",\n  categoryId: \"crowded\",\n  label: \"NYのウォール街\",\n  keywords: [\n    \"financial_district\",\n    \"daytime\",\n    \"crowded\",\n    \"business_attire\",\n    \"skyscrapers\",\n    \"gray_palette\",\n    \"numbers\",\n    \"screens\",\n    \"transactions\",\n    \"pressure\",\n    \"non_residential_space\"\n  ]\n};\n"],"names":[],"mappings":";;;;AAEO,MAAM,cAA6B;IACxC,IAAI;IACJ,YAAY;IACZ,OAAO;IACP,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH"}},
    {"offset": {"line": 2345, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/nature/snowy_mountains.ts"],"sourcesContent":["import { SemanticMotif } from \"@/semantic/semanticMotifs\";\n\nexport const snowy_mountains: SemanticMotif = {\n  id: \"snowy_mountains\",\n  categoryId: \"nature\",\n  label: \"雪山\",\n  keywords: [\n    \"snowy_mountain\",\n    \"steep_paths\",\n    \"sudden_weather_change\",\n    \"whiteout\",\n    \"low_visibility\",\n    \"cold_wind\",\n    \"mountain_folklore\",\n    \"isolation\",\n    \"lost_trails\"\n  ]\n};\n"],"names":[],"mappings":";;;;AAEO,MAAM,kBAAiC;IAC5C,IAAI;IACJ,YAAY;IACZ,OAAO;IACP,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH"}},
    {"offset": {"line": 2372, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/nature/tropical_beach.ts"],"sourcesContent":["import { SemanticMotif } from \"@/semantic/semanticMotifs\";\n\nexport const tropical_beach: SemanticMotif = {\n  id: \"tropical_beach\",\n  categoryId: \"nature\",\n  label: \"異国のビーチ\",\n  keywords: [\n    \"coast\",\n    \"sea\",\n    \"sand\",\n    \"sunlight\",\n    \"horizon\",\n    \"salt_air\",\n    \"open_space\",\n    \"distant_land\"\n  ]\n};\n"],"names":[],"mappings":";;;;AAEO,MAAM,iBAAgC;IAC3C,IAAI;IACJ,YAAY;IACZ,OAAO;IACP,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH"}},
    {"offset": {"line": 2398, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/nature/deep_forest.ts"],"sourcesContent":["import { SemanticMotif } from \"@/semantic/semanticMotifs\";\n\nexport const deep_forest: SemanticMotif = {\n  id: \"deep_forest\",\n  categoryId: \"nature\",\n  label: \"深い森\",\n  keywords: [\n    \"forest\",\n    \"dense_trees\",\n    \"shade\",\n    \"layers\",\n    \"silence\",\n    \"unknown_paths\",\n    \"filtered_light\"\n  ]\n};\n"],"names":[],"mappings":";;;;AAEO,MAAM,cAA6B;IACxC,IAAI;IACJ,YAAY;IACZ,OAAO;IACP,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH"}},
    {"offset": {"line": 2423, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/nature/lost_undersea_kingdom.ts"],"sourcesContent":["import { SemanticMotif } from \"@/semantic/semanticMotifs\";\n\nexport const lost_undersea_kingdom: SemanticMotif = {\n  id: \"lost_undersea_kingdom\",\n  categoryId: \"nature\",\n  label: \"失われた海底王国\",\n  keywords: [\n    \"deep_sea\",\n    \"high_pressure\",\n    \"dark_water\",\n    \"sunken_ruins\",\n    \"ancient_civilization\",\n    \"silence\",\n    \"slow_movement\",\n    \"bioluminescence\",\n    \"lost_world\"\n  ]\n};\n"],"names":[],"mappings":";;;;AAEO,MAAM,wBAAuC;IAClD,IAAI;IACJ,YAAY;IACZ,OAAO;IACP,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH"}},
    {"offset": {"line": 2450, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/closed/room_all_to_oneself.ts"],"sourcesContent":["import { SemanticMotif } from \"@/semantic/semanticMotifs\";\n\nexport const room_all_to_oneself: SemanticMotif = {\n  id: \"room_all_to_oneself\",\n  categoryId: \"closed\",\n  label: \"一人きりの部屋\",\n  keywords: [\n    \"solitude\",\n    \"enclosed space\",\n    \"introspection\",\n    \"isolation\",\n    \"stagnation\",\n    \"self-dialogue\",\n    \"shadows\",\n    \"uninterrupted_thought\",\n    \"mind_spiraling\",\n    \"self_amplification\",\n    \"presence_without_proof\",\n    \"after_the_event\",\n    \"safety_or_threat\",\n    \"closed_world_freedom\",\n    \"time_losing_shape\",\n    \"room_as_mirror\"\n  ]  \n};\n"],"names":[],"mappings":";;;;AAEO,MAAM,sBAAqC;IAChD,IAAI;IACJ,YAAY;IACZ,OAAO;IACP,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH"}},
    {"offset": {"line": 2484, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/closed/ruined_tower.ts"],"sourcesContent":["import { SemanticMotif } from \"@/semantic/semanticMotifs\";\n\nexport const ruined_tower: SemanticMotif = {\n  id: \"ruined_tower\",\n  categoryId: \"closed\",\n  label: \"朽ちた塔\",\n  keywords: [\n    \"tower\",\n    \"ruins\",\n    \"collapsed_structure\",\n    \"stone\",\n    \"height\",\n    \"exposure\",\n    \"remnants\"\n  ]\n};\n"],"names":[],"mappings":";;;;AAEO,MAAM,eAA8B;IACzC,IAAI;IACJ,YAAY;IACZ,OAAO;IACP,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH"}},
    {"offset": {"line": 2509, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/closed/space_station.ts"],"sourcesContent":["import { SemanticMotif } from \"@/semantic/semanticMotifs\";\n\nexport const space_station: SemanticMotif = {\n  id: \"space_station\",\n  categoryId: \"closed\",\n  label: \"宇宙ステーション\",\n  keywords: [\n    \"space_station\",\n    \"artificial_habitat\",\n    \"sealed_environment\",\n    \"zero_gravity\",\n    \"controlled_systems\",\n    \"outside_void\",\n    \"observation_windows\",\n    \"orbit\",\n    \"silence\",\n    \"fragile_life_support\"\n  ]\n};\n"],"names":[],"mappings":";;;;AAEO,MAAM,gBAA+B;IAC1C,IAAI;IACJ,YAAY;IACZ,OAAO;IACP,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH"}},
    {"offset": {"line": 2537, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/boundary/boundary_to_another_world.ts"],"sourcesContent":["import { SemanticMotif } from \"@/semantic/semanticMotifs\";\n\nexport const boundary_to_another_world: SemanticMotif = {\n  id: \"boundary_to_another_world\",\n  categoryId: \"boundary\",\n  label: \"異界との狭間\",\n  keywords: [\n    \"boundary\",\n    \"threshold\",\n    \"between_worlds\",\n    \"transition\",\n    \"fog\",\n    \"unstable_space\",\n    \"fading_landscape\"\n  ]\n};\n"],"names":[],"mappings":";;;;AAEO,MAAM,4BAA2C;IACtD,IAAI;IACJ,YAAY;IACZ,OAAO;IACP,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH"}},
    {"offset": {"line": 2562, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/boundary/train_with_no_known_destination.ts"],"sourcesContent":["import { SemanticMotif } from \"@/semantic/semanticMotifs\";\n\nexport const train_with_no_known_destination: SemanticMotif = {\n  id: \"train_with_no_known_destination\",\n  categoryId: \"boundary\",\n  label: \"誰も行き先を知らない列車\",\n  keywords: [\n    \"phantom_train\",\n    \"between_realities\",\n    \"non_place\",\n    \"looping_route\",\n    \"vanishing_stations\",\n    \"erased_maps\",\n    \"dream_logic\",\n    \"invisible_control\",\n    \"passive_life_flow\",\n    \"unknown_destination\",\n    \"endless_journey\",\n    \"liminal_travel\",\n    \"suspension_of_purpose\",\n    \"collective_uncertainty\",\n    \"anonymous_passengers\"\n  \n  ]\n};\n\n"],"names":[],"mappings":";;;;AAEO,MAAM,kCAAiD;IAC5D,IAAI;IACJ,YAAY;IACZ,OAAO;IACP,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KAED;AACH"}},
    {"offset": {"line": 2595, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/boundary/steampunk_planet.ts"],"sourcesContent":["import { SemanticMotif } from \"@/semantic/semanticMotifs\";\n\nexport const steampunk_planet: SemanticMotif = {\n  id: \"steampunk_planet\",\n  categoryId: \"boundary\",\n  label: \"スチームパンクの惑星\",\n  keywords: [\n    \"industrial_world\",\n    \"steam_power\",\n    \"mechanical_systems\",\n    \"pressure\",\n    \"pipes\",\n    \"gears\",\n    \"metal_structures\",\n    \"constant_motion\",\n    \"smoke\",\n    \"engine_noise\"\n  ]\n};\n"],"names":[],"mappings":";;;;AAEO,MAAM,mBAAkC;IAC7C,IAAI;IACJ,YAAY;IACZ,OAAO;IACP,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH"}},
    {"offset": {"line": 2623, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/daily_shift/quiet_village.ts"],"sourcesContent":["import { SemanticMotif } from \"@/semantic/semanticMotifs\";\n\nexport const quiet_village: SemanticMotif = {\n  id: \"quiet_village\",\n  categoryId: \"human_secular\",\n  label: \"のどかな村\",\n  keywords: [\n    \"village\",\n    \"rural\",\n    \"silence\",\n    \"routine\",\n    \"tradition\",\n    \"slow_time\",\n    \"community\"\n  ]\n};\n"],"names":[],"mappings":";;;;AAEO,MAAM,gBAA+B;IAC1C,IAAI;IACJ,YAAY;IACZ,OAAO;IACP,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH"}},
    {"offset": {"line": 2648, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/daily_shift/zoo_on_a_rainy_day.ts"],"sourcesContent":["import { SemanticMotif } from \"@/semantic/semanticMotifs\";\n\nexport const zoo_on_a_rainy_day: SemanticMotif = {\n  id: \"zoo_on_a_rainy_day\",\n  categoryId: \"daily_shift\",\n  label: \"雨の日の動物園\",\n  keywords: [\n    \"misplaced_center\",\n    \"gaze_without_owner\",\n    \"asymmetric_observation\",\n    \"enclosure_as_frame\",\n    \"reversal_of_reference\",\n    \"meaning_leaking_outward\",\n    \"observer_becoming_example\",\n    \"quiet_axiom_break\",\n    \"animals_not_moving\",\n    \"eyes_meeting\",\n    \"time_stalling\",\n    \"visitor_self_awareness\",\n    \"rain\",\n    \"empty paths\",\n    \"watching eyes\",\n    \"enclosure\",\n    \"quiet unease\",\n    \"reversed gaze\",\n    \"damp silence\",\n    \"lonely animals\",\n    \"suspended time\"\n  ]\n};\n\n\n"],"names":[],"mappings":";;;;AAEO,MAAM,qBAAoC;IAC/C,IAAI;IACJ,YAAY;IACZ,OAAO;IACP,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH"}},
    {"offset": {"line": 2687, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/daily_shift/twilight_library.ts"],"sourcesContent":["import { SemanticMotif } from \"@/semantic/semanticMotifs\";\n\nexport const twilight_library: SemanticMotif = {\n  id: \"twilight_library\",\n  categoryId: \"daily_shift\",\n  label: \"夕暮れの図書館\",\n  keywords: [\n    \"ordinary_place\",\n    \"slight_discomfort\",\n    \"something_off\",\n    \"unremarkable_time\",\n    \"muted_routine\",\n    \"quiet_misalignment\",\n    \"unnoticed_change\",\n    \"familiar_but_wrong\",\n    \"daily_life_distortion\",\n    \"quiet_pressure\",\n    \"watching_without_eyes\",\n    \"stillness_with_intent\",\n    \"space_holding_its_breath\",\n    \"soft_unreality\",\n    \"twilight\",\n    \"fading light\",\n    \"dusty shelves\",\n    \"unfinished stories\",\n    \"lingering silence\",\n    \"time slowing\",\n    \"threshold\",\n    \"memory\",\n    \"unspoken knowledge\"\n\n  ]\n};"],"names":[],"mappings":";;;;AAEO,MAAM,mBAAkC;IAC7C,IAAI;IACJ,YAAY;IACZ,OAAO;IACP,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KAED;AACH"}},
    {"offset": {"line": 2728, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/daily_shift/artificial_garden.ts"],"sourcesContent":["import { SemanticMotif } from \"@/semantic/semanticMotifs\";\n\nexport const artificial_garden: SemanticMotif = {\n  id: \"artificial_garden\",\n  categoryId: \"fantasy_cosmos\",\n  label: \"人工庭園\",\n  keywords: [\n    \"artificialGarden\",\n    \"fragileStructure\",\n    \"glassLikeMaterials\",\n    \"invisibleForms\",\n    \"sensorySpace\",\n    \"scent\",\n    \"birdsong\",\n    \"pollinators\",\n    \"controlledNature\",\n    \"designedEcosystem\"\n  ]\n}\n\n"],"names":[],"mappings":";;;;AAEO,MAAM,oBAAmC;IAC9C,IAAI;IACJ,YAAY;IACZ,OAAO;IACP,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH"}},
    {"offset": {"line": 2756, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/outsider/infinite_labyrinth.ts"],"sourcesContent":["import { SemanticMotif } from \"@/semantic/semanticMotifs\";\n\nexport const infinite_labyrinth: SemanticMotif = {\n  id: \"infinite_labyrinth\",\n  categoryId: \"outsider\",\n  label: \"無限の迷宮\",\n  keywords: [\n    \"labyrinth\",\n    \"endless_structure\",\n    \"topological_loop\",\n    \"mobius_like_space\",\n    \"dimensionless\",\n    \"negative_dimension\",\n    \"shifting_layout\",\n    \"unstable_exits\",\n    \"non_linear_space\",\n    \"choice_points\",\n    \"observer_dependent\",\n    \"self_reflective_space\"\n  ]\n};\n"],"names":[],"mappings":";;;;AAEO,MAAM,qBAAoC;IAC/C,IAAI;IACJ,YAAY;IACZ,OAAO;IACP,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH"}},
    {"offset": {"line": 2786, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/situationCategories.ts"],"sourcesContent":["// src/situations/situationCategories.ts\n\n// Crowded\nimport { circus } from './crowded/circus'\nimport { neon_district } from './crowded/neon_district'\nimport { royal_court } from './crowded/royal_court'\nimport { shopping_mall } from './crowded/shopping_mall'\nimport { wall_street } from './crowded/wall_street'\n\n// Nature\nimport { snowy_mountains } from './nature/snowy_mountains'\nimport { tropical_beach } from './nature/tropical_beach'\nimport { deep_forest } from './nature/deep_forest'\nimport { lost_undersea_kingdom } from './nature/lost_undersea_kingdom'\n\n// Closed\nimport { room_all_to_oneself } from './closed/room_all_to_oneself'\nimport { ruined_tower } from './closed/ruined_tower'\nimport { space_station } from './closed/space_station'\n\n// Boundary\nimport { boundary_to_another_world } from './boundary/boundary_to_another_world'\nimport { train_with_no_known_destination } from './boundary/train_with_no_known_destination'\nimport { steampunk_planet } from './boundary/steampunk_planet'\n\n// Daily Shift\nimport { quiet_village } from './daily_shift/quiet_village'\nimport { zoo_on_a_rainy_day } from './daily_shift/zoo_on_a_rainy_day'\nimport { twilight_library } from './daily_shift/twilight_library'\nimport { artificial_garden } from './daily_shift/artificial_garden'\n\n// Outsider\nimport { infinite_labyrinth } from './outsider/infinite_labyrinth'\n\nimport type { SituationPreset } from '@/types/situationPreset'\n\nexport const situationCategories = [\n  {\n    id: 'crowded',\n    label: '人の集まる場所',\n    categoryId: 'crowded',\n    situations: [circus, neon_district, royal_court, shopping_mall, wall_street],\n    notes: '人の存在が世界を歪ませる',\n  },\n  {\n    id: 'nature',\n    label: '自然・外界',\n    categoryId: 'nature',\n    situations: [\n      snowy_mountains,\n      tropical_beach,\n      deep_forest,\n      lost_undersea_kingdom,\n    ],\n    notes: '人間の理解や管理が及ばない領域',\n  },\n  {\n    id: 'closed',\n    label: '閉じた空間・構造物',\n    categoryId: 'closed',\n    situations: [room_all_to_oneself, ruined_tower, space_station],\n    notes: '内側で時間や意味が停滞',\n  },\n  {\n    id: 'boundary',\n    label: '境界・異界',\n    categoryId: 'boundary',\n    situations: [\n      boundary_to_another_world,\n      train_with_no_known_destination,\n      steampunk_planet,\n    ],\n    notes: '狭間にいるのか別世界か',\n  },\n  {\n    id: 'daily_shift',\n    label: '日常の歪み',\n    categoryId: 'daily_shift',\n    situations: [\n      quiet_village,\n      zoo_on_a_rainy_day,\n      twilight_library,\n      artificial_garden,\n    ],\n    notes: '見慣れた風景が少しだけ信用できない',\n  },\n  {\n    id: 'outsider',\n    label: '枠外・異端',\n    categoryId: 'outsider',\n    situations: [infinite_labyrinth],\n    notes: '概念外',\n  },\n] as const\n\nexport type SituationCategoryID =\n  typeof situationCategories[number]['categoryId']\n\n/**\n * UI / Matrix 用フラット配列\n */\nexport const situations: SituationPreset[] =\n  situationCategories.flatMap(c => c.situations)\n"],"names":[],"mappings":"AAAA,wCAAwC;AAExC,UAAU;;;;;;;AACV;AACA;AACA;AACA;AACA;AAEA,SAAS;AACT;AACA;AACA;AACA;AAEA,SAAS;AACT;AACA;AACA;AAEA,WAAW;AACX;AACA;AACA;AAEA,cAAc;AACd;AACA;AACA;AACA;AAEA,WAAW;AACX;;;;;;;;;;;;;;;;;;;;;AAIO,MAAM,sBAAsB;IACjC;QACE,IAAI;QACJ,OAAO;QACP,YAAY;QACZ,YAAY;YAAC,4IAAM;YAAE,0JAAa;YAAE,sJAAW;YAAE,0JAAa;YAAE,sJAAW;SAAC;QAC5E,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;QACP,YAAY;QACZ,YAAY;YACV,6JAAe;YACf,2JAAc;YACd,qJAAW;YACX,yKAAqB;SACtB;QACD,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;QACP,YAAY;QACZ,YAAY;YAAC,qKAAmB;YAAE,uJAAY;YAAE,yJAAa;SAAC;QAC9D,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;QACP,YAAY;QACZ,YAAY;YACV,mLAAyB;YACzB,+LAA+B;YAC/B,iKAAgB;SACjB;QACD,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;QACP,YAAY;QACZ,YAAY;YACV,8JAAa;YACb,wKAAkB;YAClB,oKAAgB;YAChB,sKAAiB;SAClB;QACD,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;QACP,YAAY;QACZ,YAAY;YAAC,qKAAkB;SAAC;QAChC,OAAO;IACT;CACD;AAQM,MAAM,aACX,oBAAoB,OAAO,CAAC,CAAA,IAAK,EAAE,UAAU"}},
    {"offset": {"line": 2917, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/lib/applyTransition.ts"],"sourcesContent":["// src/lib/applyTransition.ts\n\nimport { ReactionAxis } from \"@/types/reactionProfile\"\nimport { SituationCategory } from \"@/types/situationCategory\"\n\n\nexport function applyTransition(\n  profile: ReactionAxis,\n  _situationId: string\n) {\n  switch (profile) {\n    case \"distortion\":\n      return \"destabilize\"\n    case \"tension\":\n      return \"amplify\"\n    case \"void\":\n      return \"fix\"\n    case \"collapse\":\n      return \"collapse\"\n    case \"transcendence\":\n      return \"invert\"\n    case \"resonance\":\n    default:\n      return \"stabilize\"\n  }\n}\n\n"],"names":[],"mappings":"AAAA,6BAA6B;;;;;AAMtB,SAAS,gBACd,OAAqB,EACrB,YAAoB;IAEpB,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;QACL;YACE,OAAO;IACX;AACF"}},
    {"offset": {"line": 2946, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/components/reaction/ReactionSituationMatrix.tsx"],"sourcesContent":["// src/components/reaction/ReactionSituationMatrix.tsx\n\nimport React from \"react\"\nimport { situationCategories } from \"@/situations/situationCategories\"\nimport { applyTransition } from \"@/lib/applyTransition\"\nimport type { ReactionAxis } from \"@/types/reactionProfile\"\n\nconst REACTION_AXES: ReactionAxis[] = [\n  \"resonance\",\n  \"tension\",\n  \"distortion\",\n  \"collapse\",\n  \"void\",\n  \"transcendence\",\n]\n\nconst TRANSITION_LABEL_MAP: Record<string, string> = {\n  fix: \"固定\",\n  destabilize: \"不安定化\",\n  amplify: \"増幅\",\n  transform: \"変形\",\n  suppress: \"抑制\",\n  invert: \"反転\",\n}\n\nexport default function ReactionSituationMatrix() {\n  const categories = situationCategories.map(c => ({\n    id: c.categoryId,\n    label: c.label,\n  }))\n\n  return (\n    <div>\n      <h3>Situation Category × ReactionProfile</h3>\n      <p style={{ fontSize: 12, opacity: 0.7 }}>\n        デフォルト遷移表（Phase2 下敷き）\n      </p>\n\n      <div\n        style={{\n          display: \"grid\",\n          gridTemplateColumns: `140px repeat(${categories.length}, 1fr)`,\n          gap: 2,\n        }}\n      >\n        {/* Header */}\n        <div />\n        {categories.map(cat => (\n          <div\n            key={cat.id}\n            style={{ fontSize: 12, textAlign: \"center\", fontWeight: \"bold\" }}\n          >\n            {cat.label}\n          </div>\n        ))}\n\n        {/* Rows */}\n        {REACTION_AXES.map(axis => (\n          <React.Fragment key={axis}>\n            <div\n              style={{\n                fontSize: 12,\n                fontWeight: \"bold\",\n                whiteSpace: \"nowrap\",\n              }}\n            >\n              {axis}\n            </div>\n\n            {categories.map(cat => {\n              const transition = applyTransition(axis, cat.id)\n              return (\n                <div\n                  key={`${axis}-${cat.id}`}\n                  style={{\n                    border: \"1px solid #333\",\n                    borderRadius: 4,\n                    padding: \"6px 4px\",\n                    fontSize: 12,\n                    textAlign: \"center\",\n                  }}\n                >\n                  {TRANSITION_LABEL_MAP[transition] ?? transition}\n                </div>\n              )\n            })}\n          </React.Fragment>\n        ))}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"AAAA,sDAAsD;;;;;;AAEtD;AACA;AACA;;;;;AAGA,MAAM,gBAAgC;IACpC;IACA;IACA;IACA;IACA;IACA;CACD;AAED,MAAM,uBAA+C;IACnD,KAAK;IACL,aAAa;IACb,SAAS;IACT,WAAW;IACX,UAAU;IACV,QAAQ;AACV;AAEe,SAAS;IACtB,MAAM,aAAa,2JAAmB,CAAC,GAAG,CAAC,CAAA,IAAK,CAAC;YAC/C,IAAI,EAAE,UAAU;YAChB,OAAO,EAAE,KAAK;QAChB,CAAC;IAED,qBACE,0JAAC;;0BACC,0JAAC;0BAAG;;;;;;0BACJ,0JAAC;gBAAE,OAAO;oBAAE,UAAU;oBAAI,SAAS;gBAAI;0BAAG;;;;;;0BAI1C,0JAAC;gBACC,OAAO;oBACL,SAAS;oBACT,qBAAqB,CAAC,aAAa,EAAE,WAAW,MAAM,CAAC,MAAM,CAAC;oBAC9D,KAAK;gBACP;;kCAGA,0JAAC;;;;;oBACA,WAAW,GAAG,CAAC,CAAA,oBACd,0JAAC;4BAEC,OAAO;gCAAE,UAAU;gCAAI,WAAW;gCAAU,YAAY;4BAAO;sCAE9D,IAAI,KAAK;2BAHL,IAAI,EAAE;;;;;oBAQd,cAAc,GAAG,CAAC,CAAA,qBACjB,0JAAC,qIAAK,CAAC,QAAQ;;8CACb,0JAAC;oCACC,OAAO;wCACL,UAAU;wCACV,YAAY;wCACZ,YAAY;oCACd;8CAEC;;;;;;gCAGF,WAAW,GAAG,CAAC,CAAA;oCACd,MAAM,aAAa,IAAA,4IAAe,EAAC,MAAM,IAAI,EAAE;oCAC/C,qBACE,0JAAC;wCAEC,OAAO;4CACL,QAAQ;4CACR,cAAc;4CACd,SAAS;4CACT,UAAU;4CACV,WAAW;wCACb;kDAEC,oBAAoB,CAAC,WAAW,IAAI;uCAThC,GAAG,KAAK,CAAC,EAAE,IAAI,EAAE,EAAE;;;;;gCAY9B;;2BA3BmB;;;;;;;;;;;;;;;;;AAiC/B;KAlEwB"}},
    {"offset": {"line": 3084, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/components/common/ReferencePanel.tsx"],"sourcesContent":["// src/components/common/ReferencePanel.tsx\n\nimport { useState, ReactNode } from \"react\"\n\ntype Props = {\n  title: string\n  children: ReactNode\n  defaultOpen?: boolean\n}\n\nexport function ReferencePanel({\n  title,\n  children,\n  defaultOpen = false,\n}: Props) {\n  const [open, setOpen] = useState(defaultOpen)\n\n  return (\n    <div style={{ marginTop: 24 }}>\n      <button\n        onClick={() => setOpen(!open)}\n        style={{\n          background: \"none\",\n          border: \"none\",\n          color: '#f8d300ff',\n          fontSize: 15.5,\n          fontWeight: 700,\n          cursor: \"pointer\",\n          padding: 0,\n        }}\n      >\n        {open ? \"▼\" : \"▶\"} {title}\n      </button>\n\n      {open && <div style={{ marginTop: 12 }}>{children}</div>}\n    </div>\n  )\n}\n"],"names":[],"mappings":"AAAA,2CAA2C;;;;;;AAE3C;;;;AAQO,SAAS,eAAe,EAC7B,KAAK,EACL,QAAQ,EACR,cAAc,KAAK,EACb;;IACN,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,sIAAQ,EAAC;IAEjC,qBACE,0JAAC;QAAI,OAAO;YAAE,WAAW;QAAG;;0BAC1B,0JAAC;gBACC,SAAS,IAAM,QAAQ,CAAC;gBACxB,OAAO;oBACL,YAAY;oBACZ,QAAQ;oBACR,OAAO;oBACP,UAAU;oBACV,YAAY;oBACZ,QAAQ;oBACR,SAAS;gBACX;;oBAEC,OAAO,MAAM;oBAAI;oBAAE;;;;;;;YAGrB,sBAAQ,0JAAC;gBAAI,OAAO;oBAAE,WAAW;gBAAG;0BAAI;;;;;;;;;;;;AAG/C;GA3BgB;KAAA"}},
    {"offset": {"line": 3151, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/lib/worldModifier/worldModifierLabels.ts"],"sourcesContent":["import type { WorldModifier } from \"@/data/sourceStories/types\"\n\nexport const worldModifierLabelMap: Record<WorldModifier, string> = {\n  distortion: \"歪曲\",\n  inversion: \"反転\",\n  fixation: \"固着\",\n  erosion: \"侵食\",\n  voidification: \"欠落\",\n  failed_transcendence: \"超越失敗\",\n  observer_bias: \"観測歪み\",\n  emergent_possibility: \"好転の可能性\",\n}\n"],"names":[],"mappings":";;;;AAEO,MAAM,wBAAuD;IAClE,YAAY;IACZ,WAAW;IACX,UAAU;IACV,SAAS;IACT,eAAe;IACf,sBAAsB;IACtB,eAAe;IACf,sBAAsB;AACxB"}},
    {"offset": {"line": 3172, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/components/metrics/MetricsPanel.tsx"],"sourcesContent":["// src/components/metrics/MetricsPanel.tsx\n\n// src/components/metrics/MetricsPanel.tsx\n// 完全版（翻訳・表示これで終了）\n\nimport { ReferencePanel } from \"@/components/common/ReferencePanel\"\nimport type { StoryMetrics } from \"@/lib/collectMetrics\"\n\nimport { worldModifierLabelMap } from \"@/lib/worldModifier/worldModifierLabels\"\n\nexport function MetricsPanel({ metrics }: { metrics: StoryMetrics }) {\n  return (\n    <ReferencePanel title=\"生成後メトリクス（結果）\">\n      <div style={{ fontSize: 13, lineHeight: 1.6 }}>\n        <div style={{ opacity: 0.7, marginBottom: 8 }}>\n          実際に物語内で起きた構造変化の結果\n        </div>\n\n        <div>\n          <strong>適用された世界修飾子：</strong>\n          {metrics.appliedModifiers.length\n            ? metrics.appliedModifiers\n                .map(m => worldModifierLabelMap[m])\n                .join(\", \")\n            : \"なし\"}\n        </div>\n\n        <div>\n          <strong>無効化された構造数：</strong>\n          {metrics.inactiveCount}\n        </div>\n\n        <div>\n          <strong>反転した構造数：</strong>\n          {metrics.invertedCount}\n        </div>\n\n        <div>\n          <strong>平均歪み強度：</strong>\n          {metrics.avgWeight.toFixed(2)}\n        </div>\n      </div>\n    </ReferencePanel>\n  )\n}\n"],"names":[],"mappings":"AAAA,0CAA0C;AAE1C,0CAA0C;AAC1C,kBAAkB;;;;;;AAElB;AAGA;;;;AAEO,SAAS,aAAa,EAAE,OAAO,EAA6B;IACjE,qBACE,0JAAC,4JAAc;QAAC,OAAM;kBACpB,cAAA,0JAAC;YAAI,OAAO;gBAAE,UAAU;gBAAI,YAAY;YAAI;;8BAC1C,0JAAC;oBAAI,OAAO;wBAAE,SAAS;wBAAK,cAAc;oBAAE;8BAAG;;;;;;8BAI/C,0JAAC;;sCACC,0JAAC;sCAAO;;;;;;wBACP,QAAQ,gBAAgB,CAAC,MAAM,GAC5B,QAAQ,gBAAgB,CACrB,GAAG,CAAC,CAAA,IAAK,uKAAqB,CAAC,EAAE,EACjC,IAAI,CAAC,QACR;;;;;;;8BAGN,0JAAC;;sCACC,0JAAC;sCAAO;;;;;;wBACP,QAAQ,aAAa;;;;;;;8BAGxB,0JAAC;;sCACC,0JAAC;sCAAO;;;;;;wBACP,QAAQ,aAAa;;;;;;;8BAGxB,0JAAC;;sCACC,0JAAC;sCAAO;;;;;;wBACP,QAAQ,SAAS,CAAC,OAAO,CAAC;;;;;;;;;;;;;;;;;;AAKrC;KAlCgB"}},
    {"offset": {"line": 3291, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/affinities/affinityMap.ts"],"sourcesContent":["// src/affinities/affinityMap.ts\n\nimport type { AffinityCell } from \"./affinityCell\"\n\n// 型\nexport type AffinityMap = {\n  [situationId: string]: {\n    [voiceId: string]: AffinityCell\n  }\n}\n\nexport const affinityMap = {\n  circus: {\n    neutral: { level: \"◯\", comment: \"バランスの取れた語り口がサーカスの多様性を引き立てる\" },\n    poetic: { level: \"◎\", comment: \"幻想的な描写がサーカスの魅力を増幅\" },\n    melancholic: { level: \"△\", comment: \"華やかさとの対比が独特の余韻を残す\" },\n    cold: { level: \"△\", comment: \"冷静な視点が非現実感を強調\" },\n    scholarly: { level: \"◯\", comment: \"歴史的・文化的視点で奥行きが出る\" },\n    mystic: { level: \"◎\", comment: \"魔術的雰囲気が世界観を深化\" },\n    heroic: { level: \"△\", comment: \"サーカスを舞台にした英雄譚に\" },\n    childlike: { level: \"◎\", comment: \"驚きと楽しさに満ちた語りが合う\" },\n    playful: { level: \"◎\", comment: \"混沌とユーモアがマッチする\" },\n    osaka_obahan: { level: \"◎\", comment: \"騒がしさと混沌が共鳴\" }\n  },\n\n  deep_forest: {\n    neutral: { level: \"◯\", comment: \"自然の描写に最適な落ち着いた文体\" },\n    poetic: { level: \"◎\", comment: \"自然と抒情の調和\" },\n    melancholic: { level: \"◎\", comment: \"静けさと孤独感が際立つ\" },\n    cold: { level: \"△\", comment: \"やや淡白だがミステリアスさは出せる\" },\n    scholarly: { level: \"◯\", comment: \"生態学的な視点で深みが出る\" },\n    mystic: { level: \"◎\", comment: \"森の神秘と相性抜群\" },\n    heroic: { level: \"△\", comment: \"やや非現実的だが冒険譚になりうる\" },\n    childlike: { level: \"◯\", comment: \"不思議の森として描写できる\" },\n    playful: { level: \"△\", comment: \"静けさとのギャップが鍵\" },\n    osaka_obahan: { level: \"△\", comment: \"自然とのギャップでユニークに\" }\n  },\n\n  snowy_mountains: {\n    neutral: { level: \"◯\", comment: \"冷静な語りで雪の静寂を表現\" },\n    poetic: { level: \"◎\", comment: \"雪の描写と詩情がマッチ\" },\n    melancholic: { level: \"◎\", comment: \"孤独と記憶を呼び起こす\" },\n    cold: { level: \"◯\", comment: \"感情を排した語りが合う\" },\n    scholarly: { level: \"△\", comment: \"やや情緒に欠けるが考察には向く\" },\n    mystic: { level: \"◎\", comment: \"雪と神秘が融合\" },\n    heroic: { level: \"△\", comment: \"厳しい自然が試練の舞台に\" },\n    childlike: { level: \"△\", comment: \"幻想的な雪遊びの世界になる\" },\n    playful: { level: \"△\", comment: \"ギャップがユーモラスに働く\" },\n    osaka_obahan: { level: \"△\", comment: \"雪山でのテンションの差が面白い\" }\n  },\n\n  quiet_village: {\n    neutral: { level: \"◎\", comment: \"日常の空気感を素直に描ける\" },\n    poetic: { level: \"◯\", comment: \"静けさが抒情に映える\" },\n    melancholic: { level: \"◎\", comment: \"過去や喪失の匂いと合う\" },\n    cold: { level: \"△\", comment: \"人情との距離がズレになる\" },\n    scholarly: { level: \"△\", comment: \"分析的すぎると温度が下がる\" },\n    mystic: { level: \"◯\", comment: \"隠れた伝承の村になる\" },\n    heroic: { level: \"△\", comment: \"英雄性が浮きやすい\" },\n    childlike: { level: \"◯\", comment: \"素朴な昔話風\" },\n    playful: { level: \"△\", comment: \"静寂との対比が鍵\" },\n    osaka_obahan: { level: \"△\", comment: \"生活感の暴力が面白い\" }\n  },\n\n  royal_court: {\n    neutral: { level: \"◯\", comment: \"状況整理に向く\" },\n    poetic: { level: \"◎\", comment: \"権威と美の誇張が映える\" },\n    melancholic: { level: \"◯\", comment: \"栄華の陰を描ける\" },\n    cold: { level: \"◎\", comment: \"権力構造と相性抜群\" },\n    scholarly: { level: \"◎\", comment: \"政治・制度描写が強い\" },\n    mystic: { level: \"△\", comment: \"魔術色を足す必要あり\" },\n    heroic: { level: \"◯\", comment: \"叙事詩的展開に\" },\n    childlike: { level: \"△\", comment: \"複雑さが壁になる\" },\n    playful: { level: \"△\", comment: \"風刺寄りなら成立\" },\n    osaka_obahan: { level: \"△\", comment: \"宮廷ゴシップ化する\" }\n  },\n\n  tropical_beach: {\n    neutral: { level: \"◯\", comment: \"異国感を整理できる\" },\n    poetic: { level: \"◎\", comment: \"光と海の表現が強い\" },\n    melancholic: { level: \"◯\", comment: \"旅の終わり感\" },\n    cold: { level: \"△\", comment: \"開放感と噛み合わない\" },\n    scholarly: { level: \"△\", comment: \"観光記録寄りになる\" },\n    mystic: { level: \"◯\", comment: \"海の伝承と相性\" },\n    heroic: { level: \"△\", comment: \"戦場化しない工夫が必要\" },\n    childlike: { level: \"◎\", comment: \"冒険と遊びの海\" },\n    playful: { level: \"◎\", comment: \"陽気さが噛み合う\" },\n    osaka_obahan: { level: \"◎\", comment: \"海外テンション全開\" }\n  },\n\n  boundary_to_another_world: {\n    neutral: { level: \"◯\", comment: \"状況説明に向く\" },\n    poetic: { level: \"◎\", comment: \"曖昧さを美にできる\" },\n    melancholic: { level: \"◎\", comment: \"別れと選択の場\" },\n    cold: { level: \"◯\", comment: \"境界管理者視点\" },\n    scholarly: { level: \"◯\", comment: \"世界構造の説明向き\" },\n    mystic: { level: \"◎\", comment: \"王道の相性\" },\n    heroic: { level: \"◎\", comment: \"越境の物語になる\" },\n    childlike: { level: \"△\", comment: \"抽象度が高い\" },\n    playful: { level: \"△\", comment: \"軽くすると不思議寄り\" },\n    osaka_obahan: { level: \"△\", comment: \"異界ツッコミ役\" }\n  },\n\n  ruined_tower: {\n    neutral: { level: \"◯\", comment: \"状況説明がしやすい\" },\n    poetic: { level: \"◎\", comment: \"崩壊と時間の比喩が映える\" },\n    melancholic: { level: \"◎\", comment: \"失われた栄光と相性良し\" },\n    cold: { level: \"◯\", comment: \"遺構として淡々と描ける\" },\n    scholarly: { level: \"◎\", comment: \"建築・歴史考察向き\" },\n    mystic: { level: \"◯\", comment: \"封印や呪いを匂わせられる\" },\n    heroic: { level: \"◎\", comment: \"攻略対象として成立\" },\n    childlike: { level: \"△\", comment: \"危険さが強い\" },\n    playful: { level: \"△\", comment: \"軽さとのズレ\" },\n    osaka_obahan: { level: \"△\", comment: \"廃墟ツッコミ役\" }\n  },\n\n  neon_district: {\n    neutral: { level: \"◯\", comment: \"情報量を制御できる\" },\n    poetic: { level: \"◎\", comment: \"光と孤独の都市詩\" },\n    melancholic: { level: \"◎\", comment: \"夜の虚無と相性抜群\" },\n    cold: { level: \"◎\", comment: \"無機質な都市感覚\" },\n    scholarly: { level: \"△\", comment: \"レポート調になりがち\" },\n    mystic: { level: \"△\", comment: \"SF寄り調整が必要\" },\n    heroic: { level: \"◯\", comment: \"アンチヒーロー向き\" },\n    childlike: { level: \"△\", comment: \"刺激が強い\" },\n    playful: { level: \"◯\", comment: \"カオスな楽しさ\" },\n    osaka_obahan: { level: \"◎\", comment: \"街ツッコミが炸裂\" }\n  },\n\n  wall_street: {\n    neutral: { level: \"◯\", comment: \"現実的描写に向く\" },\n    poetic: { level: \"△\", comment: \"抽象化が必要\" },\n    melancholic: { level: \"◯\", comment: \"欲望の虚しさ\" },\n    cold: { level: \"◎\", comment: \"数字と非情さが噛み合う\" },\n    scholarly: { level: \"◎\", comment: \"経済構造の語り\" },\n    mystic: { level: \"△\", comment: \"比喩的処理向き\" },\n    heroic: { level: \"△\", comment: \"英雄像がズレる\" },\n    childlike: { level: \"△\", comment: \"理解が難しい\" },\n    playful: { level: \"△\", comment: \"皮肉寄りになる\" },\n    osaka_obahan: { level: \"◎\", comment: \"金の話が主役\" }\n  },\n\n  shopping_mall: {\n    neutral: { level: \"◯\", comment: \"空間整理に向く\" },\n    poetic: { level: \"△\", comment: \"日常感が強い\" },\n    melancholic: { level: \"◯\", comment: \"空虚な消費空間\" },\n    cold: { level: \"◯\", comment: \"人工性が強調される\" },\n    scholarly: { level: \"△\", comment: \"社会分析寄り\" },\n    mystic: { level: \"△\", comment: \"異界化が必要\" },\n    heroic: { level: \"△\", comment: \"スケールがズレる\" },\n    childlike: { level: \"◎\", comment: \"巨大な遊び場\" },\n    playful: { level: \"◎\", comment: \"カオスと相性良し\" },\n    osaka_obahan: { level: \"◎\", comment: \"日常トーク無双\" }\n  },\n\n  space_station: {\n    neutral: { level: \"◯\", comment: \"SF描写が安定\" },\n    poetic: { level: \"◎\", comment: \"孤独と宇宙の詩\" },\n    melancholic: { level: \"◎\", comment: \"隔絶感と相性良し\" },\n    cold: { level: \"◎\", comment: \"無重力の非情さ\" },\n    scholarly: { level: \"◎\", comment: \"技術描写向き\" },\n    mystic: { level: \"△\", comment: \"科学寄り調整\" },\n    heroic: { level: \"◯\", comment: \"防衛・救出劇\" },\n    childlike: { level: \"△\", comment: \"理解が難しい\" },\n    playful: { level: \"△\", comment: \"緊張感が崩れる\" },\n    osaka_obahan: { level: \"△\", comment: \"宇宙で世話焼き\" }\n  },\n\n  artificial_garden: {\n    neutral: { level: \"◯\", comment: \"構造を整理できる\" },\n    poetic: { level: \"◎\", comment: \"人工と自然の対比\" },\n    melancholic: { level: \"◯\", comment: \"作られた楽園感\" },\n    cold: { level: \"◯\", comment: \"管理視点と合う\" },\n    scholarly: { level: \"◎\", comment: \"設計思想を描ける\" },\n    mystic: { level: \"△\", comment: \"神秘性は薄め\" },\n    heroic: { level: \"△\", comment: \"戦いの場ではない\" },\n    childlike: { level: \"◎\", comment: \"不思議な庭園\" },\n    playful: { level: \"◯\", comment: \"実験場として楽しい\" },\n    osaka_obahan: { level: \"◯\", comment: \"世話焼き視点\" }\n  },\n\n  steampunk_planet: {\n    neutral: { level: \"◯\", comment: \"世界説明向き\" },\n    poetic: { level: \"◎\", comment: \"煙と歯車の詩\" },\n    melancholic: { level: \"◯\", comment: \"時代遅れの哀愁\" },\n    cold: { level: \"◎\", comment: \"機械文明と相性\" },\n    scholarly: { level: \"◎\", comment: \"技術史的に強い\" },\n    mystic: { level: \"△\", comment: \"魔法寄り調整\" },\n    heroic: { level: \"◎\", comment: \"反乱・革命譚\" },\n    childlike: { level: \"△\", comment: \"複雑すぎる\" },\n    playful: { level: \"◯\", comment: \"ガジェット感\" },\n    osaka_obahan: { level: \"△\", comment: \"煙への文句\" }\n  },\n\n  lost_undersea_kingdom: {\n    neutral: { level: \"◯\", comment: \"状況整理が必要\" },\n    poetic: { level: \"◎\", comment: \"沈黙と光の世界\" },\n    melancholic: { level: \"◎\", comment: \"滅びの美学\" },\n    cold: { level: \"◯\", comment: \"深海の非情さ\" },\n    scholarly: { level: \"◎\", comment: \"文明考古学向き\" },\n    mystic: { level: \"◎\", comment: \"伝説との親和性\" },\n    heroic: { level: \"◯\", comment: \"探索譚になる\" },\n    childlike: { level: \"△\", comment: \"怖さが勝る\" },\n    playful: { level: \"△\", comment: \"雰囲気維持が難しい\" },\n    osaka_obahan: { level: \"△\", comment: \"水圧ツッコミ\" }\n  },\n\n  infinite_labyrinth: {\n    neutral: { level: \"◯\", comment: \"構造整理が重要\" },\n    poetic: { level: \"◎\", comment: \"終わりなき比喩\" },\n    melancholic: { level: \"◎\", comment: \"迷いと絶望\" },\n    cold: { level: \"◎\", comment: \"非人間的空間\" },\n    scholarly: { level: \"◯\", comment: \"論理迷宮向き\" },\n    mystic: { level: \"◎\", comment: \"存在論的世界\" },\n    heroic: { level: \"◎\", comment: \"試練の極致\" },\n    childlike: { level: \"△\", comment: \"難解すぎる\" },\n    playful: { level: \"△\", comment: \"緊張感が崩れる\" },\n    osaka_obahan: { level: \"△\", comment: \"永遠に迷うオチ\" }\n  }\n} satisfies AffinityMap\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3977, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/data/situationPresets.ts"],"sourcesContent":["// src/data/situationPresets.ts\nimport { SituationPreset } from '@/situations'\n\nexport const SITUATION_PRESETS: SituationPreset[] = [\n  // 1. 人の集う場所\n  {\n    id: \"circus\",\n    label: \"サーカス\",\n    sceneId: \"circus_tent\",\n    worldModifierId: \"inversion\",\n    notes: \"非日常的で夢のような演じられた世界\"\n  },\n  {\n    id: \"neon_district\",\n    label: \"ネオン街\",\n    sceneId: \"neon_district\",\n    worldModifierId: \"observer_bias\",\n    notes: \"妖しいネオンが照らし出すもの\"\n  },\n  {\n    id: \"royal_court\",\n    label: \"王宮\",\n    sceneId: \"royal_court\",\n    worldModifierId: \"inversion\",\n    notes: \"豪華絢爛な歴史と権力の象徴\"\n  },\n  {\n    id: \"shopping_mall\",\n    label: \"巨大ショッピングモール\",\n    sceneId: \"shopping_mall\",\n    worldModifierId: \"voidification\",\n    notes: \"無数のありきたりな幸せが同時に存在\"\n  },\n  {\n    id: \"wall_street\",\n    label: \"ニューヨークのウォール街\",\n    sceneId: \"wall_street\",\n    worldModifierId: \"inversion\",\n    notes: \"巨万の富と思惑が渦巻く都会の喧騒\"\n  },\n\n  // 2. 自然・外界 \n  {\n    id: \"snowy_mountains\",\n    label: \"雪山\",\n    sceneId: \"snowy_mountains\",\n    worldModifierId: \"fixation\",\n    notes: \"手足も悴む真っ白な厳しさ\"\n  },\n  {\n    id: \"tropical_beach\",\n    label: \"異国のビーチ\",\n    sceneId: \"tropical_beach\",\n    worldModifierId: \"distortion\",\n    notes: \"楽園のはずなのに違和感\"\n  },\n  {\n    id: \"deep_forest\",\n    label: \"深い森\",\n    sceneId: \"deep_forest\",\n    worldModifierId: \"distortion\",\n    notes: \"空を覆われ方角も感覚も消えていく場所\"\n  },\n  {\n    id: \"lost_undersea_kingdom\",\n    label: \"失われた海底世界\",\n    sceneId: \"lost_undersea_world\",\n    worldModifierId: \"voidification\",\n    notes: \"過ぎ去った栄華が囁く海底深く沈んだ領域\"\n  },\n\n  // 3. 閉じた空間・構造物\n  {\n    id: \"room_all_to_oneself\",\n    label: \"一人きりの部屋\",\n    sceneId: \"room_all_to_oneself\",\n    worldModifierId: \"observer_bias\",\n    notes: \"安らぎの聖域か心の空洞か\"\n  },\n  {\n    id: \"ruined_tower\",\n    label: \"朽ちた塔\",\n    sceneId: \"ruined_tower\",\n    worldModifierId: \"erosion\",\n    notes: \"過去や歴史の崩壊が残した遺物\"\n  },\n  {\n    id: \"space_station\",\n    label: \"宇宙ステーション\",\n    sceneId: \"space_station\",\n    worldModifierId: \"fixation\",\n    notes: \"人間の存在がちっぽけで無力\"\n  },\n\n  // 4. 境界・異界\n  {\n    id: \"boundary_to_another_world\",\n    label: \"異界との境界\",\n    sceneId: \"boundary_to_another_world\",\n    worldModifierId: \"observer_bias\",\n    notes: \"越えてはいないが戻れないかも\"\n  },\n  {\n    id: \"train_with_no_known_destination\",\n    label: \"誰も行き先を知らない列車\",\n    sceneId: \"train_with_no_known_destination\",\n    worldModifierId: \"Voidification\",\n    notes: \"終点も目的もないまま走り続ける\"\n  },\n  {\n    id: \"steampunk_planet\",\n    label: \"スチームパンクの惑星\",\n    sceneId: \"steampunk_planet\",\n    worldModifierId: \"distortion\",\n    notes: \"機械的でノスタルジック、でも未来的\"\n  },\n\n  // 5. 日常の歪み\n  {\n    id: \"quiet_village\",\n    label: \"静かな村\",\n    sceneId: \"quiet_village\",\n    worldModifierId: \"emergent_possibility\",\n    notes: \"何も起こらないはずの場所\",\n  },\n  {\n    id: \"zoo_on_a_rainy_day\",\n    label: \"雨の日の動物園\",\n    sceneId: \"zoo_on_a_rainy_day\",\n    worldModifierId: \"observer_bias\",\n    notes: \"観ているはずが観られている\",\n  },\n  {\n    id: \"artificial_garden\",\n    label: \"人工庭園\",\n    sceneId: \"artificial_garden\",\n    worldModifierId: \"inversion\",\n    notes: \"どこか無機質な庭園\"\n  },\n  { id: \"twilight_library\",\n    label: \"夕暮れの図書館\",\n    sceneId: \"twilight_library\",\n    worldModifierId: \"fixation\",\n    notes: \"何かが静かに止まり始めるのか動き始めるのか\"\n  },\n\n  // 6. 枠外・異端\n  {\n    id: \"infinite_labyrinth\",\n    label: \"無限の迷宮\",\n    sceneId: \"infinite_labyrinth\",\n    worldModifierId: \"fixation\",\n    notes: \"形も時間も空間も全ての概念が不安定で変動的\"\n  }\n]\n"],"names":[],"mappings":"AAAA,+BAA+B;;;;;AAGxB,MAAM,oBAAuC;IAClD,YAAY;IACZ;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,iBAAiB;QACjB,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,iBAAiB;QACjB,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,iBAAiB;QACjB,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,iBAAiB;QACjB,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,iBAAiB;QACjB,OAAO;IACT;IAEA,YAAY;IACZ;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,iBAAiB;QACjB,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,iBAAiB;QACjB,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,iBAAiB;QACjB,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,iBAAiB;QACjB,OAAO;IACT;IAEA,eAAe;IACf;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,iBAAiB;QACjB,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,iBAAiB;QACjB,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,iBAAiB;QACjB,OAAO;IACT;IAEA,WAAW;IACX;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,iBAAiB;QACjB,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,iBAAiB;QACjB,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,iBAAiB;QACjB,OAAO;IACT;IAEA,WAAW;IACX;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,iBAAiB;QACjB,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,iBAAiB;QACjB,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,iBAAiB;QACjB,OAAO;IACT;IACA;QAAE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,iBAAiB;QACjB,OAAO;IACT;IAEA,WAAW;IACX;QACE,IAAI;QACJ,OAAO;QACP,SAAS;QACT,iBAAiB;QACjB,OAAO;IACT;CACD"}},
    {"offset": {"line": 4137, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/types/situationPreset.ts"],"sourcesContent":["// src/types/situationPreset.ts\nexport interface SituationPreset {\n  id: string\n  label: string\n  sceneId: string\n  worldModifierId: string\n  notes?: string\n}\n"],"names":[],"mappings":"AAAA,+BAA+B"}},
    {"offset": {"line": 4147, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/boundary/index.ts"],"sourcesContent":["export { steampunk_planet } from './steampunk_planet'\nexport { boundary_to_another_world } from './boundary_to_another_world'\nexport { train_with_no_known_destination } from './train_with_no_known_destination'\n"],"names":[],"mappings":";AAAA;AACA;AACA"}},
    {"offset": {"line": 4161, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/closed/index.ts"],"sourcesContent":["export { space_station } from './space_station'\nexport { ruined_tower } from './ruined_tower'\nexport { room_all_to_oneself } from './room_all_to_oneself'\n"],"names":[],"mappings":";AAAA;AACA;AACA"}},
    {"offset": {"line": 4175, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/crowded/index.ts"],"sourcesContent":["export { circus } from './circus'\nexport { neon_district } from './neon_district'\nexport { royal_court } from './royal_court'\nexport { shopping_mall } from './shopping_mall'\nexport { wall_street } from './wall_street'\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 4193, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/daily_shift/index.ts"],"sourcesContent":["export { twilight_library } from './twilight_library'\nexport { zoo_on_a_rainy_day } from './zoo_on_a_rainy_day'\nexport { quiet_village } from './quiet_village'\nexport { artificial_garden } from './artificial_garden'\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 4209, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/nature/index.ts"],"sourcesContent":["export { deep_forest } from './deep_forest'\nexport { snowy_mountains } from './snowy_mountains'\nexport { lost_undersea_kingdom } from './lost_undersea_kingdom'\nexport { tropical_beach } from './tropical_beach'\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 4225, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/outsider/index.ts"],"sourcesContent":["export { infinite_labyrinth } from './infinite_labyrinth'"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 4235, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/situationMap.ts"],"sourcesContent":["import type { SituationPreset } from \"@/types/situationPreset\"\nimport { situations } from \"./situationCategories\"\n\nexport const situationsById: Record<string, SituationPreset> =\n  Object.fromEntries(\n    situations.map(s => [s.id, s])\n  )\n"],"names":[],"mappings":";;;;AACA;;AAEO,MAAM,iBACX,OAAO,WAAW,CAChB,kJAAU,CAAC,GAAG,CAAC,CAAA,IAAK;QAAC,EAAE,EAAE;QAAE;KAAE"}},
    {"offset": {"line": 4252, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/situations/index.ts"],"sourcesContent":["// src/situations/index.ts\n\nexport * from '@/types/situationPreset'  \nexport * from './situationCategories'\n\nexport * from './boundary'\nexport * from './closed'\nexport * from './crowded'\nexport * from './daily_shift'\nexport * from './nature'\nexport * from './outsider'\n\nexport { situationsById } from \"./situationMap\""],"names":[],"mappings":"AAAA,0BAA0B;;AAE1B;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA"}},
    {"offset": {"line": 4279, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/utils/situationLabelMap.ts"],"sourcesContent":["// src/utils/situationLabelMap.ts\n\nimport { situationCategories } from '@/situations'\n\nexport const situationLabelMap: Record<string, string> =\n  Object.fromEntries(\n    situationCategories.flatMap(cat =>\n      cat.situations.map(s => [s.id, s.label])\n    )\n  )\n"],"names":[],"mappings":"AAAA,iCAAiC;;;;;AAEjC;AAAA;;AAEO,MAAM,oBACX,OAAO,WAAW,CAChB,2JAAmB,CAAC,OAAO,CAAC,CAAA,MAC1B,IAAI,UAAU,CAAC,GAAG,CAAC,CAAA,IAAK;YAAC,EAAE,EAAE;YAAE,EAAE,KAAK;SAAC"}},
    {"offset": {"line": 4298, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/utils/voiceLabelMap.ts"],"sourcesContent":["import { voices } from '@/voices/voiceList'\n\nexport const voiceLabelMap: Record<string, string> =\n  Object.fromEntries(\n    voices.map(v => [v.id, v.label])\n  )\n\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,gBACX,OAAO,WAAW,CAChB,gIAAM,CAAC,GAAG,CAAC,CAAA,IAAK;QAAC,EAAE,EAAE;QAAE,EAAE,KAAK;KAAC"}},
    {"offset": {"line": 4315, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/lib/mapSituationToWorldModifiers.ts"],"sourcesContent":["// src/lib/mapSituationToWorldModifiers.ts\n\nimport type { SituationKey } from \"@/types/situationKeys\"\nimport type { ReactionProfile } from \"@/types/reactionProfile\"\nimport type { WorldModifierType } from \"@/types/worldModifier\"\nimport { calcRecursiveReflectionIntensity } from \"@/lib/calcRecursiveReflectionIntensity\"\n\nexport function mapSituationToWorldModifiers(\n  situationId: SituationKey,\n  reactionProfile: ReactionProfile\n): WorldModifierType[] {\n  const modifiers: WorldModifierType[] = []\n\n  switch (situationId) {\n    case \"circus\":\n      modifiers.push(\"distortion\" )\n      modifiers.push(\"observer_bias\" )\n      break\n\n    case \"deep_forest\":\n      modifiers.push(\"erosion\" )\n      modifiers.push(\"voidification\" )\n      break\n\n    case \"steampunk_planet\":\n      modifiers.push(\"fixation\")\n      break\n\n    case \"train_with_no_known_destination\":\n      modifiers.push(\"inversion\" )\n      modifiers.push(\"observer_bias\")\n      break\n  }\n\n\n  return modifiers\n}\n\n\n"],"names":[],"mappings":"AAAA,0CAA0C;;;;;AAOnC,SAAS,6BACd,WAAyB,EACzB,eAAgC;IAEhC,MAAM,YAAiC,EAAE;IAEzC,OAAQ;QACN,KAAK;YACH,UAAU,IAAI,CAAC;YACf,UAAU,IAAI,CAAC;YACf;QAEF,KAAK;YACH,UAAU,IAAI,CAAC;YACf,UAAU,IAAI,CAAC;YACf;QAEF,KAAK;YACH,UAAU,IAAI,CAAC;YACf;QAEF,KAAK;YACH,UAAU,IAAI,CAAC;YACf,UAAU,IAAI,CAAC;YACf;IACJ;IAGA,OAAO;AACT"}},
    {"offset": {"line": 4348, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/src/lib/mapSituationToRequiredFunctions.ts"],"sourcesContent":["import type { StructuralFunction } from \"@/data/sourceStories/types\"\nimport type { SituationKey } from \"@/types/situationKeys\"\n\nexport function mapSituationToRequiredFunctions(\n  situationId: SituationKey\n): StructuralFunction[] {\n  switch (situationId) {\n    case \"circus\":\n      return [\"observer_distortion\", \"division\"]\n    case \"deep_forest\":\n      return [\"erosion\", \"void_ending\"]\n    case \"steampunk_planet\":\n      return [\"stagnation\", \"consequence\"]\n    case \"train_with_no_known_destination\":\n      return [\"inversion\", \"observer_distortion\"]\n    default:\n      return []\n  }\n}\n"],"names":[],"mappings":";;;;AAGO,SAAS,gCACd,WAAyB;IAEzB,OAAQ;QACN,KAAK;YACH,OAAO;gBAAC;gBAAuB;aAAW;QAC5C,KAAK;YACH,OAAO;gBAAC;gBAAW;aAAc;QACnC,KAAK;YACH,OAAO;gBAAC;gBAAc;aAAc;QACtC,KAAK;YACH,OAAO;gBAAC;gBAAa;aAAsB;QAC7C;YACE,OAAO,EAAE;IACb;AACF"}},
    {"offset": {"line": 4385, "column": 0}, "map": {"version":3,"sources":["file:///Users/qp5/Desktop/Projects/1001/pages/story/index.tsx"],"sourcesContent":["// src/pages/story/index.tsx\n\nimport { useEffect, useState } from \"react\";\n\nimport { characters } from \"@/data/characters\"\nimport { themes } from \"@/themes\"\nimport { voices } from \"@/voices\"\n\nimport type { Theme } from \"@/types/theme\"\nimport type { VoiceKey } from \"@/types/voiceKeys\"\nimport type { SituationKey } from \"@/types/situationKeys\"\nimport { AffinitySymbol } from \"@/types/affinity\"\n\nimport { VoiceCard } from \"@/components/voice/VoiceCard\"\nimport AffinityMatrix from \"@/components/affinity/AffinityMatrix\"\nimport { CharacterThemeMatrix } from \"@/components/reaction/CharacterThemeMatrix\"\nimport ReactionSituationMatrix from \"@/components/reaction/ReactionSituationMatrix\"\nimport { ReferencePanel } from \"@/components/common/ReferencePanel\"\nimport { PlannedMetricsPanel } from \"@/components/metrics/PlannedMetricsPanel\"\nimport { MetricsPanel } from \"@/components/metrics/MetricsPanel\"\n\nimport { affinityMap } from \"@/affinities/affinityMap\"\nimport { SITUATION_PRESETS } from \"@/data/situationPresets\"\nimport { situationLabelMap } from \"@/utils/situationLabelMap\"\nimport { voiceLabelMap } from \"@/utils/voiceLabelMap\"\n\nimport { getReactionProfile } from \"@/lib/getReactionProfile\"\nimport { mapSituationToWorldModifiers } from \"@/lib/mapSituationToWorldModifiers\"\nimport { mapSituationToRequiredFunctions } from \"@/lib/mapSituationToRequiredFunctions\"\n\nimport type { StoryMetrics } from \"@/lib/collectMetrics\"\n\nexport default function StoryPage() {\n const [selectedTheme, setSelectedTheme] = useState<Theme | null>(null)\n const [selectedSituation, setSelectedSituation] = useState<SituationKey | null>(null)\n const [selectedVoice, setSelectedVoice] = useState<VoiceKey | null>(null)\n const [selectedCharacter, setSelectedCharacter] = useState<string | null>(null)\n\n const [generatedStory, setGeneratedStory] = useState(\"\")\n const [resultMetrics, setResultMetrics] = useState<StoryMetrics | null>(null)\n\n const [mode, setMode] = useState<\"faker\" | \"llm\" | \"faker_llm\">(\"faker\")\n const [showApiKeyPopup, setShowApiKeyPopup] = useState(false)\n\n const hasApiKey =\n process.env.NEXT_PUBLIC_HAS_OPENAI_KEY === \"true\"\n\n const MODES = [\n { id: \"faker\", label: \"Faker Only\", locked: false },\n { id: \"llm\", label: \"LLM Only\", locked: !hasApiKey },\n { id: \"faker_llm\", label: \"Faker × LLM\", locked: !hasApiKey },\n ] as const\n\n // ===== 生成前 Metrics（表示専用）=====\n const reactionProfile =\n   selectedCharacter && selectedTheme\n     ? getReactionProfile(selectedCharacter, selectedTheme.id)\n     : null\n\n const plannedMetrics =\n   selectedSituation && reactionProfile\n     ? {\n         requiredFunctions: mapSituationToRequiredFunctions(selectedSituation),\n         plannedModifiers: mapSituationToWorldModifiers(selectedSituation, reactionProfile),\n         reactionProfile,\n       }\n     : null\n\n   async function handleGenerateStory() {\n    if ((mode === \"faker_llm\" || mode === \"llm\") && !hasApiKey) {\n      alert(\"This mode requires an API key\")\n      return\n    }\n\n    if (!selectedTheme || !selectedSituation || !selectedVoice || !selectedCharacter) {\n      return\n    }\n\n    const res = await fetch(\"/api/mode3\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        characterId: selectedCharacter,\n        themeId: selectedTheme.id,\n        situationId: selectedSituation,\n        voiceId: selectedVoice,\n      }),\n    })\n\n    const json = await res.json()\n\n    if (!res.ok || !json.ok) {\n      alert(json.error ?? \"Mode3 generation failed\")\n      return\n    }\n\n    setGeneratedStory(json.text)\n    setResultMetrics(null)\n  }\n\n function showApiKeyHelp() {\n   alert(\n     \"このモードを使うには OpenAI API key が必要です。\\n\\n\" +\n     \"1. OpenAIでAPI keyを取得\\n\" +\n     \"2. .env.local に OPENAI_API_KEY を設定\\n\" +\n     \"3. NEXT_PUBLIC_HAS_OPENAI_KEY=true を設定\\n\" +\n     \"4. 開発サーバーを再起動\"\n   )\n }\n\n  return (\n    <>\n      {/* 背景（固定） */}\n      <div className=\"bg\" />\n\n      {/* 画面中央レイヤー */}\n      <div className=\"content\">\n        {/* すりガラスウィンドウ */}\n        <main className=\"glass\">\n          <h1><p>1001:ショートショート歪曲生成装置</p></h1>\n\n          {/* Mode */}\n          <section style={{ marginBottom: 30 }}>\n            <h2>モード</h2>\n\n            <div\n              style={{\n                display: \"grid\",\n                gap: 24,\n                marginTop: 16,\n              }}\n            >\n              {/* Mode3 */}\n              <div\n                style={{\n                  padding: 16,\n                  borderRadius: 12,\n                  color: \"#fff\",\n                  background: mode === \"faker_llm\" ? \"#000000ff\" : \"#111\",\n                  opacity: hasApiKey ? 1 : 0.8,\n                }}\n              >\n                <button\n                  onClick={() => {\n                    if (hasApiKey) setMode(\"faker_llm\")\n                    else setShowApiKeyPopup(true)\n                  }}\n                  style={{\n                    width: \"30%\",\n                    marginBottom: 12,\n                    padding: \"8px 0\",\n                    fontWeight: 600,\n                    textAlign: \"center\",\n                    color: \"#000000ff\",\n                  }}\n                >\n                  Faker × LLM {hasApiKey ? \"\" : \"🔒\"}\n                </button>\n\n                <div style={{ \n                  fontSize: 11, \n                  lineHeight: 1.6, \n                  opacity: 1.0, \n                  color: '#ffc355ff'}}>\n                  <strong>API key 必須</strong>\n                  <p>• Fakerが物語構造・制約・歪みを先に確定し、LLMは文章表現のみを担当します。</p>\n                  <p> • 物語の意味や構造はLLMに委ねられることはありません。</p>\n                  <p>• 興味のある方は、各リアクションマトリクスをご覧ください。</p>\n                </div>\n              </div>\n            </div>\n          </section>\n\n          {/* Character */}\n          <section>\n            <h2>キャラクター</h2>\n            <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: 8 }}>\n              {characters.map(c => (\n                <button\n                  key={c.id}\n                  onClick={() => {\n                    setSelectedCharacter(c.id)\n                    setSelectedTheme(null)\n                    setSelectedSituation(null)\n                    setSelectedVoice(null)\n                    setGeneratedStory(\"\")\n                    setResultMetrics(null)\n                  }}\n                  style={{\n                    padding: \"6px 12px\",\n                    borderRadius: 999,\n                    fontSize: 12,\n                    background: c.id === selectedCharacter ? \"#6c0202ff\" : \"#222\",\n                    color: \"#fff\",\n                    border: \"1px solid #444\",\n                  }}\n                >\n                  {c.name}\n                </button>\n              ))}\n            </div>\n          </section>\n\n          {/* Theme */}\n          <section style={{ marginTop: 32, opacity: selectedCharacter ? 1 : 0.4 }}>\n            <h2>テーマ</h2>\n\n            <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: 8 }}>\n              {themes.map(t => (\n                <button\n                  key={t.id}\n                  onClick={() => {\n                    setSelectedTheme(t)\n                    setSelectedSituation(null)\n                    setSelectedVoice(null)\n                    setGeneratedStory(\"\")\n                    setResultMetrics(null)\n                  }}\n                  style={{\n                    padding: \"6px 12px\",\n                    borderRadius: 999,\n                    fontSize: 12,\n                    background: t.id === selectedTheme?.id ? \"#6c0202ff\" : \"#222\",\n                    color: \"#fff\",\n                    border: \"1px solid #444\",\n                  }}\n                >\n                  {t.label}\n                </button>\n              ))}\n            </div>\n\n            {selectedTheme && (\n              <ReferencePanel title=\"Character × Theme Matrix (Reaction Matrix)\">\n                <CharacterThemeMatrix />\n              </ReferencePanel>\n            )}\n          </section>\n\n          {/* Situation */}\n          <section style={{ marginTop: 32, opacity: selectedCharacter ? 1 : 0.4 }}>\n            <h2>シチュエーション</h2>\n\n            <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: 8 }}>\n              {SITUATION_PRESETS.map(s => (\n                <button\n                  key={s.id}\n                  onClick={() => {\n                    setSelectedSituation(s.id as SituationKey)\n                    setSelectedVoice(null)\n                    setGeneratedStory(\"\")\n                    setResultMetrics(null)\n                  }}\n                  style={{\n                    padding: \"6px 12px\",\n                    borderRadius: 999,\n                    fontSize: 12,\n                    background: s.id === selectedSituation ? \"#6c0202ff\" : \"#222\",\n                    color: \"#fff\",\n                    border: \"1px solid #444\",\n                  }}\n                >\n                  {s.label}\n                </button>\n              ))}\n            </div>\n\n            {selectedSituation && (\n              <ReferencePanel title=\"Reaction × Situation Structure\">\n                <ReactionSituationMatrix />\n              </ReferencePanel>\n            )}\n          </section>\n\n          {/* Voice */}\n          <section style={{ marginTop: 32, opacity: selectedCharacter ? 1 : 0.4 }}>\n            <h2>文体・語り口</h2>\n\n            <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: 8 }}>\n              {voices.map(v => (\n                <button\n                  key={v.id}\n                  onClick={() => {\n                    setSelectedVoice(v.id as VoiceKey)\n                    setGeneratedStory(\"\")\n                    setResultMetrics(null)\n                  }}\n                  style={{\n                    padding: \"6px 12px\",\n                    borderRadius: 999,\n                    fontSize: 12,\n                    background: v.id === selectedVoice ? \"#6c0202ff\" : \"#222\",\n                    color: \"#fff\",\n                    border: \"1px solid #444\",\n                  }}\n                >\n                  {v.label}\n                </button>\n              ))}\n            </div>\n\n            <ReferencePanel title=\"Situation × NarrativeVoice Matrix（参考）\">\n              <AffinityMatrix\n                map={affinityMap}\n                selectedSituation={selectedSituation}\n                selectedVoice={selectedVoice}\n                situationLabelMap={situationLabelMap}\n                voiceLabelMap={voiceLabelMap}\n              />\n            </ReferencePanel>\n          </section>\n\n          {/* Generate */}\n          {selectedTheme && selectedSituation && selectedVoice && selectedCharacter && (\n            <section style={{ marginTop: 32 }}>\n              <button\n                onClick={handleGenerateStory}\n                style={{\n                  padding: \"12px 24px\",\n                  background: \"#0a0909ff\",\n                  color: '#ffc355ff',\n                  borderRadius: 20,\n                  fontSize: 16,\n                  fontWeight: 1800,\n                  border: \"1px solid #0a0909ff\",\n                  fontFamily: \"Georgia\",\n                }}\n              >\n                物語を生成する\n              </button>\n            </section>\n          )}\n\n          {/* Result */}\n          {generatedStory && (\n            <section style={{ marginTop: 32 }}>\n              <h2>生成された物語</h2>\n              <pre style={{ whiteSpace: \"pre-wrap\" }}>{generatedStory}</pre>\n\n              {resultMetrics && <MetricsPanel metrics={resultMetrics} />}\n            </section>\n          )}\n        </main>\n      </div>\n    </>\n  )}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4959, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/entry/page-loader.ts"],"sourcesContent":["const PAGE_PATH = \"/story\";\n\n/// <reference types=\"next/client\" />\n\n// inserted by rust code\ndeclare const PAGE_PATH: string\n\n  // Adapted from https://github.com/vercel/next.js/blob/b7f9f1f98fc8ab602e84825105b5727272b72e7d/packages/next/src/build/webpack/loaders/next-client-pages-loader.ts\n;(window.__NEXT_P = window.__NEXT_P || []).push([\n  PAGE_PATH,\n  () => {\n    return require('PAGE')\n  },\n])\n// @ts-expect-error module.hot exists\nif (module.hot) {\n  // @ts-expect-error module.hot exists\n  module.hot.dispose(function () {\n    window.__NEXT_P.push([PAGE_PATH])\n  })\n}\n"],"names":[],"mappings":"AAAA,MAAM,YAAY;AAQjB,CAAC,OAAO,QAAQ,GAAG,OAAO,QAAQ,IAAI,EAAE,EAAE,IAAI,CAAC;IAC9C;IACA;QACE;IACF;CACD;AACD,qCAAqC;AACrC,IAAI,OAAO,GAAG,EAAE;IACd,qCAAqC;IACrC,OAAO,GAAG,CAAC,OAAO,CAAC;QACjB,OAAO,QAAQ,CAAC,IAAI,CAAC;YAAC;SAAU;IAClC;AACF","ignoreList":[0]}}]
}